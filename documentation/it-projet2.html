<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"
    />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="../styles/style-commun.css" />
  <link rel="stylesheet" href="../styles/style-code.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/srcery.min.css">
  <link rel="icon" type="image/x-icon" href="../logo/favicon.ico">
  <title>D√©partement IT ‚Äì B2MS CleanTech</title>
</head>
<body>
  <header class="header">
    <div class="section__container header__container_domaine">
      <h2>D√©partement IT</h2>
    </div>
  </header>

  <div class="layout-container">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-toggle" id="sidebarToggle">
        <i class="fas fa-bars"></i>
      </div>

      <nav class="main-nav">
        <a href=".././" class="nav-link"><i class="fas fa-home"></i> Accueil</a>

        <div class="nav-section">
          <a href="./it" style="text-decoration: none;"><button class="tab-button active"><i class="fas fa-desktop"></i> IT</button> </a>       
          
          <div class="sub-links">
            <a href="./it-projet1" class="subtab-button">Projet 1</a>

            <a href="./it-projet2" class="subtab-button active">Projet 2</a>
              <nav class="project-subnav active" id="subnav-test2">
                <a href="#1-test2">1. Contexte et objectifs</a>
                <a href="#2-test2">2. Notion de base sur ROS2</a>
                <a href="#3-test2">3. Structure du package et fonctionnement</a>
                <a href="#4-test2">4. Tests r√©alis√©s</a>
                <a href="#5-test2">5. Limites et perspectives</a>
                <a href="#6-test2">6. Conclusion</a>
                <a href="#7-test2">7. Bonus</a>
                <a href="#8-test2">8. Ressources utiles</a>
              </nav>

            <a href="./it-projet3" class="subtab-button">Projet 3</a>
          </div>
        </div>

        <a href="./electronique" class="nav-link"><i class="fas fa-microchip"></i> √âlectronique</a>
        <a href="./mecanique" class="nav-link"><i class="fas fa-cogs"></i> M√©canique</a>
        <a href="./convoyeur" class="nav-link"></i><i class="fas fa-forward"></i> Convoyeur</a>
        <a href="./trc25" class="nav-link"><i class="fas fa-robot"></i> TRC25</a>
      </nav>
    </div>

    <!-- Contenu principal -->
    <main class="main-content">
      <section id="it-content" class="tab-content active">

        <div id="test2" class="subtab-content active">
          <h2 id="projet2" class="projet-titre">Projet 2 ‚Äì Introduction √† ROS2</h2>

          <h3 id="1-test2">1. Contexte et objectifs:</h3>

          <p>
            Ce projet introduit les m√©canismes fondamentaux de publication
            et de souscription dans le framework <strong>ROS2</strong> √† travers un exemple
            pratique de g√©n√©ration et d‚Äô√©valuation de donn√©es de capteurs.
          </p>
          <p>   
            L'objectif est de cr√©er un package ROS2 nomm√© <strong>sensor_data_evaluation</strong> contenant :
          </p>
          <ul>
            <li>Un <strong>node publisher</strong> qui publie toutes les 0,5 secondes des donn√©es simul√©es (temp√©rature, humidit√©, pression).</li>
            <li>Un <strong>node subscriber</strong> qui re√ßoit ces donn√©es et v√©rifie qu'elles sont dans les plages pr√©d√©finies, en affichant les r√©sultats dans le log.</li>
            <li>Un <strong>fichier de lancement</strong> pour ex√©cuter l‚Äôensemble des nodes.</li>
          </ul>

          <h3 id="2-test2">2. Notion de base sur ROS2</h3>
            <h4>a. ROS2(Robot Operating System 2)</h4>
              <p>
                ROS2 est un framework open source destin√© √† la robotique.
                Il permet de d√©velopper des syst√®mes distribu√©s o√π plusieurs programmes ind√©pendants, appel√©s <strong>nodes</strong>, peuvent communiquer entre eux. 
                Gr√¢ce √† cette modularit√©, il est possible de concevoir des architectures complexes o√π chaque partie a un r√¥le bien d√©fini. 
                L‚Äôorganisation du code dans ROS2 repose sur des <strong>packages</strong>, qui regroupent les fichiers sources (C++ ou Python), les d√©finitions de messages, les launch files et les d√©pendances n√©cessaires.
                ROS2 prend principalement en charge <strong>C++</strong>(via la biblioth√®que <em><strong>rclcpp</strong></em>) et <strong>Python</strong> (via <em><strong>rclpy</strong></em>), permettant ainsi √† la fois des impl√©mentations performantes en C++ et des d√©veloppements rapides en Python.
                La version <strong>ROS2 Humble</strong> est l‚Äôune des plus utilis√©es aujourd‚Äôhui.                          
              </p>
              <div class="image-container">
                <img src="../images/Test2/IT/ros2_humble.webp" alt="web" class="image-mean"/>       
                <p class="txt_center">
                  Veuillez consultez la documentation officielle pour 
                  <a href="https://docs.ros.org/en/kilted/Installation.html" target="_blank">l'installation de ROS2 Humble</a>.
                </p>
              </div>
            
              <h4>b. Package</h4>
                <p>
                  Un package est l'unit√© de base de l'organisation dans ROS2. 
                  Il regroupe tout ce qui est n√©cessaire √† une fonctionnalit√© donn√©e: les fichiers sources (C++ ou Python), les launch files, les d√©pendances, la configuration du projet...
                  Chaque package est autonome et r√©utilisable, ce qui facilite la modularit√© et le partage de code dans diff√©rents projets. 
                  Les packages sont g√©n√©ralement g√©r√©s via l'outil <strong>colcon build</strong> pour la compilation et l‚Äôinstallation.
                </p>

              <h4>c. Topic</h4>
                <p>
                  Un topic est un canal de communication identifi√© par un nom (par exemple <em><strong>/camera/image</strong></em> ou <em><strong>/temperature</strong></em>). 
                  Les nodes publient ou s‚Äôabonnent √† ces topics pour √©changer des donn√©es. 
                  Un <strong>publisher</strong> envoie des messages sur un topic, et <strong>un ou plusieurs subscribers</strong> re√ßoivent ces messages. 
                  Les topics constituent donc la base de la communication dans ROS2.
                </p>

              <h4>d. Nodes(n≈ìuds)</h4>
                <p>
                  Un node est une unit√© de calcul dans ROS2, c‚Äôest-√†-dire un programme autonome qui ex√©cute une t√¢che sp√©cifique. 
                  Certains nodes agissent comme <strong>publishers</strong> en envoyant des informations, d‚Äôautres comme <strong>subscribers</strong> en recevant et traitant ces informations, et certains cumulent les deux r√¥les. 
                  Cette organisation favorise la r√©utilisabilit√© et la modularit√© du syst√®me.
                </p>
             
              <h4>e. Messages</h4>
                <p>
                  Les donn√©es √©chang√©es entre nodes passent par des messages. 
                  Ceux-ci d√©finissent le format de l‚Äôinformation transmise. 
                  ROS2 fournit de nombreux types standards via la biblioth√®que <em><strong>std_msgs</strong></em>, comme <em><strong>String</strong></em>(texte), <em><strong>Int32</strong></em>(entier), ou <em><strong>Bool</strong></em>(valeur logique). 
                  Il est √©galement possible de d√©finir ses propres types de messages personnalis√©s selon les besoins du projet.
                </p>

                <div class="image-container">
                  <img src="../images/Test2/IT/topic_node.webp" alt="web" class="image-mean"/>       
                  <p class="txt_center">
                    Illustration d'un topic et des nodes avec un message. 
                  </p>
                </div>

              <h4>f. Langages et biblioth√®ques</h4>
                <p>
                  ROS2 prend en charge plusieurs langages de programmation, principalement <strong>C++</strong> et <strong>Python</strong>.
                  <ul>
                    <li>
                      En <strong>C++</strong>, on utilise la biblioth√®que <em><strong>rclcpp</strong></em> pour cr√©er et g√©rer les nodes, publishers et subscribers, associ√©e √† <em><strong>std_msgs</strong></em> pour manipuler les messages standards.
                    </li>
                    <li>
                      En <strong>Python</strong>, la biblioth√®que √©quivalente est <em><strong>rclpy</strong></em>, qui offre les m√™mes fonctionnalit√©s avec une syntaxe plus simple, souvent utilis√©e pour le prototypage rapide.
                    </li>
                  </ul>
                </p>
                <p>
                  <strong>NB:</strong> ROS2 permet aussi de m√©langer des nodes en C++ et en Python dans une m√™me architecture
                </p>

              <h4>g. Fichier de lancement(launcher)</h4>
              <p>
                Dans un projet ROS2 compos√© de plusieurs nodes, lancer chaque node s√©par√©ment peut vite devenir fastidieux. 
                Pour r√©soudre ce probl√®me, ROS2 utilise les <strong>launch files</strong>(fichiers de lancement), g√©n√©ralement √©crits en <strong>.xml</strong> ou <strong>.py</strong>. 
                Ces fichiers d√©crivent quels nodes doivent √™tre d√©marr√©s, avec quels param√®tres et dans quel ordre. 
                Ainsi, une seule commande permet de d√©marrer l'ensemble du syst√®me.
              </p>

              <h4>h. rqt</h4>
                <p>
                  rqt est un framework graphique modulaire int√©gr√© √† ROS2. Il propose une suite de plugins permettant la visualisation, l‚Äôanalyse et le d√©bogage des syst√®mes distribu√©s. 
                  Parmi ses fonctionnalit√©s, on retrouve :
                  <ul>
                    <li>l'inspection en temps r√©el des topics, des publishers et des subscribers,</li>
                    <li>l'affichage et la visualisation des messages √©chang√©s,</li>
                    <li>le suivi de l‚Äô√©volution de donn√©es sous forme de graphiques.</li>
                  </ul>
                </p>

                <div class="image-container">
                  <img src="../images/Test2/IT/rqt_graph.webp" alt="web" class="image-mean"/>       
                  <p class="txt_center">
                    Exemple d'informations affich√©es dans l'interface rqt.
                  </p>
                </div>

          <h3  id="3-test2">3. Structure du package et fonctionnement</h3>
          <p>
            Le package <strong>sensor_data_evaluation</strong> est compos√© de deux nodes:
          </p>
          <ul>
            <li><strong>sensor_node_publisher</strong></li>
            <li><strong>sensor_node_subscriber</strong></li>
          </ul>

          <h4><strong>a. Cr√©ation du workspace</strong></h4>
          <div class="code-container">
            <div class="btn-bar">
              <button onclick="copierCode('test2_T1', this)">üìã</button>
            </div>
            <pre><code class="hljs" id="test2_T1">
user@user-VirtualBox:~$ cd Desktop
user@user-VirtualBox:~/Desktop$ mkdir -p workspace/src
            </code></pre>
          </div>

          <h4><strong>b. Cr√©ation du package</strong></h4>
          <div class="code-container">
            <div class="btn-bar">
              <button onclick="copierCode('test2_T2a', this)">üìã</button>
            </div>
            <pre><code class="hljs" id="test2_T2a">
user@user-VirtualBox:~/Desktop$ cd workspace/src
user@user-VirtualBox:~/Desktop/workspace/src$ ros2 pkg create sensor_data_evaluation --build-type ament_cmake
            </code></pre>
          </div>

          <h4><strong>c. Cr√©ation des nodes cpp</strong></h4>
          <p>
            Les nodes se trouvent dans le dossier <strong>workspace/src/sensor_data_evaluation/src</strong>.
            Ils ont √©t√© cr√©√©s √† l'aide de la commande <em><strong>touch</strong></em> et rendus ex√©cutables avec <em><strong>chmod +x</strong></em>.
          </p>
          <div class="code-container">
            <div class="btn-bar">
              <button onclick="copierCode('test2_T2b', this)">üìã</button>
            </div>
            <pre><code class="hljs" id="test2_T2b">
user@user-VirtualBox:~/Desktop/workspace/src$ cd sensor_data_evaluation/src
user@user-VirtualBox:~/Desktop/workspace/src/sensor_data_evaluation/src$ touch sensor_node_publisher.cpp
user@user-VirtualBox:~/Desktop/workspace/src/sensor_data_evaluation/src$ touch sensor_node_subscriber.cpp
user@user-VirtualBox:~/Desktop/workspace/src/sensor_data_evaluation/src$ chmod +x sensor_node_publisher.cpp
user@user-VirtualBox:~/Desktop/workspace/src/sensor_data_evaluation/src$ chmod +x sensor_node_subscriber.cpp
            </code></pre>
          </div>
          
          <h4><strong>d. sensor_node_publisher</strong></h4>
          <p>
            Ce node publie des donn√©es al√©atoires toutes les 0.5 secondes sur le topic <strong>/sensor_data</strong>:
          </p>
          <ul>
            <li>Temp√©rature : 15¬∞C √† 35¬∞C</li>
            <li>Humidit√© : 30% √† 70%</li>
            <li>Pression : 950 hPa √† 1050 hPa</li>
          </ul>

          <ul> 
            <strong>Fonctionnement:</strong>
            <li><em><strong>nbr_generator()</strong></em> g√©n√®re un nombre entier al√©atoire dans la plage donn√©e.</li>
            <li>Un <strong>timer</strong> appelle <em><strong>timer_callback()</strong></em> toutes les 0,5s.</li>
            <li><em><strong>timer_callback()</strong></em> appelle <em><strong>nbr_generator()</strong></em> pour g√©n√©rer les trois valeurs, cr√©e un message <strong>std_msgs::msg::String</strong>, l'affiche dans le log et le publie.</li>
          </ul>

          <p>
            <strong>NB:</strong> Le node est lanc√© via <em><strong>rclcpp::spin()</strong></em>, ce qui permet d‚Äôex√©cuter le callback en continu.
          </p>

          <div class="code-container">
            <p>
              <strong>sensor_node_publisher.cpp</strong>
            </p>
            <div class="btn-bar">
              <button onclick="copierCode('sensor_node_publisher-cpp', this)">üìã</button>
              <button onclick="telechargerCode('sensor_node_publisher-cpp', 'sensor_node_publisher.cpp', 'text/x-c++src', this)">ü°á</button>
               </div>
            <pre><code class="hljs" id="sensor_node_publisher-cpp">
#include &lt;chrono&gt;
#include &lt;functional&gt;
#include &lt;memory&gt;
#include &lt;string&gt;
#include &lt;random&gt;

#include "rclcpp/rclcpp.hpp"
#include "std_msgs/msg/string.hpp"

using namespace std::chrono_literals;


class SensorPublisher : public rclcpp::Node
{
private:
  rclcpp::TimerBase::SharedPtr timer_;
  rclcpp::Publisher&lt;std_msgs::msg::String&gt;::SharedPtr publisher_;
  int temp, pression, hum;
  // float temp, pression, hum;
  void timer_callback()
  {
    temp = nbr_generator(15, 35);
    hum = nbr_generator(30, 70);
    pression = nbr_generator(950, 1050);
    auto message = std_msgs::msg::String();
    message.data = "T = " + std::to_string(temp) + "¬∞C, H = " + std::to_string(hum) + "%, P = " + std::to_string(pression) + "hPa";
    RCLCPP_INFO(this->get_logger(), "Publishing: '%s'", message.data.c_str());
    publisher_->publish(message);
  }

  int nbr_generator(int min_value, int max_value){
    static std::random_device rd;
    static std::mt19937 gen(rd());
    std::uniform_int_distribution&lt;int&gt; distrib(min_value, max_value);

    return distrib(gen);
}


public:
  SensorPublisher()
  : Node("sensor_node_publisher")
  {
    publisher_ = this->create_publisher&lt;std_msgs::msg::String&gt;("sensor_data", 10);
    timer_ = this->create_wall_timer(
      500ms, std::bind(&SensorPublisher::timer_callback, this));
  }
};

int main(int argc, char * argv[])
{
  rclcpp::init(argc, argv);
  rclcpp::spin(std::make_shared&lt;SensorPublisher&gt;());
  rclcpp::shutdown();
  return 0;
}
            </code></pre>
          </div>

          <h4><strong>e. sensor_node_subscriber</strong></h4>
          <p>
            Ce node √©coute le topic <strong>/sensor_data</strong> et v√©rifie que les donn√©es sont dans la bonne plage.
          </p>
          <ul>
            <li>Temp√©rature : 15¬∞C √† 35¬∞C</li>
            <li>Humidit√© : 30% √† 70%</li>
            <li>Pression : 950 hPa √† 1050 hPa</li>
          </ul>
          
          <ul> 
            <strong>Fonctionnement:</strong>
            <li>La <strong>subscription</strong> appelle <em><strong>sensor_callback()</strong></em> √† chaque message re√ßu.</li>
            <li>La fonction <em><strong>is_correct_value()</strong></em> analyse les donn√©es et retourne <strong>"correct values"</strong> ou <strong>"incorrect values"</strong> selon les plages.</li>
            <li><em><strong>sensor_callback()</strong></em> affiche dans le log les donn√©es re√ßues et indique si elles sont correctes ou non, gr√¢ce √† <em><strong>is_correct_value()</strong></em></li>
          </ul>

          <p>
            <strong>NB:</strong> Le node est lanc√© via <em><strong>rclcpp::spin()</strong></em>, ce qui permet de recevoir et traiter les messages en continu.
          </p>
        
          <div class="code-container">
            <p>
              <strong>sensor_node_subscriber.cpp</strong>
            </p>
            <div class="btn-bar">
              <button onclick="copierCode('sensor_node_subscriber-cpp', this)">üìã</button>
              <button onclick="telechargerCode('sensor_node_subscriber-cpp', 'sensor_node_subscriber.cpp', 'text/x-c++src', this)">ü°á</button>
               </div>
            <pre><code class="hljs" id="sensor_node_subscriber-cpp">
#include &lt;functional&gt;
#include &lt;memory&gt;
#include &lt;sstream&gt;

#include "rclcpp/rclcpp.hpp"
#include "std_msgs/msg/string.hpp"

using std::placeholders::_1;

class SensorSubscriber : public rclcpp::Node
{
public:
  SensorSubscriber()
  : Node("sensor_node_subscriber")
  {
    subscription_ = this->create_subscription&lt;std_msgs::msg::String&gt;(
      "sensor_data", 10, std::bind(&SensorSubscriber::sensor_callback, this, _1));
  }

private:
  void sensor_callback(const std_msgs::msg::String & msg) const
  {
    // std::string message = "Data received: " + msg.data + ": " + is_correct_value(msg.data);
    // RCLCPP_INFO(this->get_logger(), "%s", message.c_str());
    RCLCPP_INFO(this->get_logger(), "Data received: %s : %s", msg.data.c_str(), (is_correct_value(msg.data)).c_str());
  }
  rclcpp::Subscription&lt;std_msgs::msg::String&gt;::SharedPtr subscription_;

  std::string is_correct_value(const std::string &txt) const{
    std::stringstream ss(txt);
    std::string buffer;
    int T, H, P;

    ss >> buffer >> buffer >> T >> buffer  
      >> buffer >> buffer >> H >> buffer 
      >> buffer >> buffer >> P >> buffer;
    
    return (15 <= T && T <= 35 && 30 <= H && H <= 70 && 950 <= P && P <= 1050)? "correct values":"incorrect values";
}
};


int main(int argc, char * argv[])
{
  rclcpp::init(argc, argv);
  rclcpp::spin(std::make_shared&lt;SensorSubscriber&gt;());
  rclcpp::shutdown();
  return 0;
}
            </code></pre>
          </div>


          <h4><strong>f. CMakeLists.txt </strong></h4>
          <p>
            Ce fichier permet de cr√©er les <strong>ex√©cutables</strong> pour les nodes et de configurer les <strong>d√©pendances</strong> du package ROS2.
            Il est g√©n√©r√© automatiquement lors de la cr√©ation du package avec des valeurs par d√©faut.
          </p>
          <ul>
            <strong>Points cl√©s:</strong>
            <li>Recherche des d√©pendances n√©cessaires: <em><strong>ament_cmake</strong></em>, <em><strong>rclcpp</strong></em> et <em><strong>std_msgs</strong></em>.</li>
            <li>Cr√©ation des ex√©cutables <strong>sensor_node_publisher</strong> et <strong>sensor_node_subscriber</strong> et liaison aux biblioth√®ques ROS2.</li>
            <li>Installation les ex√©cutables dans le dossier <strong>lib/${PROJECT_NAME}</strong>.</li>
            <li>Configuration des tests et linters si <strong>BUILD_TESTING</strong> est activ√©.</li>
            <li>Termine par <em><strong>ament_package()</strong></em> pour indiquer que c'est un package ROS2 valide.</li>
          </ul>
          
          <div class="code-container">
            <p>
              <strong>CMakeLists.txt</strong>
            </p>
            <div class="btn-bar">
              <button onclick="copierCode('CMakeLists-txt', this)">üìã</button>
              <button onclick="telechargerCode('CMakeLists-txt', 'CMakeLists.txt', 'text/txt', this)">ü°á</button>
               </div>
            <pre><code class="hljs" id="CMakeLists-txt">
cmake_minimum_required(VERSION 3.8)
project(sensor_data_evaluation)

if(CMAKE_COMPILER_IS_GNUCXX OR CMAKE_CXX_COMPILER_ID MATCHES "Clang")
  add_compile_options(-Wall -Wextra -Wpedantic)
endif()

# find dependencies
find_package(ament_cmake REQUIRED)
find_package(rclcpp REQUIRED)
find_package(std_msgs REQUIRED)

# add the executable
add_executable(sensor_node_publisher src/sensor_node_publisher.cpp)
target_link_libraries(sensor_node_publisher PUBLIC rclcpp::rclcpp ${std_msgs_TARGETS})

add_executable(sensor_node_subscriber src/sensor_node_subscriber.cpp)
target_link_libraries(sensor_node_subscriber PUBLIC rclcpp::rclcpp ${std_msgs_TARGETS})

install(TARGETS
  sensor_node_publisher
  sensor_node_subscriber
  DESTINATION lib/${PROJECT_NAME})


if(BUILD_TESTING)
  find_package(ament_lint_auto REQUIRED)
  # the following line skips the linter which checks for copyrights
  # comment the line when a copyright and license is added to all source files
  set(ament_cmake_copyright_FOUND TRUE)
  # the following line skips cpplint (only works in a git repo)
  # comment the line when this package is in a git repo and when
  # a copyright and license is added to all source files
  set(ament_cmake_cpplint_FOUND TRUE)
  ament_lint_auto_find_test_dependencies()
endif()

ament_package()
            </code></pre>
          </div>

          <h4><strong>g. package.xml </strong></h4>
          <p>
            Ce fichier permet d'inclure et d√©clarer toutes les ressources n√©cessaires pour le package ROS2. 
            Il contient les informations essentielles sur le package, ses d√©pendances et ses outils de build.
            Il est aussi g√©n√©r√© automatiquement √† la cr√©ation du package avec des valeurs par d√©faut.
          </p>

          <ul>
            <strong>Points cl√©s:</strong>
            <li>D√©claration du nom, de la version, de la description, du mainteneur et de la licence du package.</li>
            <li>Indique les d√©pendances de build et d‚Äôex√©cutionber: <em><strong>ament_cmake</strong></em>, <em><strong>rclcpp</strong></em>, <em><strong>std_msgs</strong></em> <em><strong>ros2launch</strong></em>.</li>
            <li>Sp√©cification des d√©pendances pour les tests: <em><strong>ament_lint_auto</strong></em> et <em><strong>ament_lint_common</strong></em>.</li>
            <li>Contient la section &lt;export&gt; pour pr√©ciser le type de build (<em><strong>ament_cmake</strong></em> pour les packages C++) utilis√© par ROS2.</li>
          </ul>

          <div class="code-container">
            <p>
              <strong>package.xml</strong>
            </p>
            <div class="btn-bar">
              <button onclick="copierCode('package-xml', this)">üìã</button>
              <button onclick="telechargerCode('package-xml', 'package.xml', 'text/xml', this)">ü°á</button>
               </div>
            <pre><code class="hljs" id="package-xml">
&lt;?xml version="1.0"?&gt;
&lt;?xml-model href="http://download.ros.org/schema/package_format3.xsd" schematypens="http://www.w3.org/2001/XMLSchema"?&gt;

&lt;package format="3"&gt;
  &lt;name&gt;sensor_data_evaluation&lt;/name&gt;
  &lt;version&gt;0.0.0&lt;/version&gt;
  &lt;description&gt;Sending and receiving data&lt;/description&gt;
  &lt;maintainer email="user@todo.todo"&gt;user&lt;/maintainer&gt;
  &lt;license&gt;TODO: License declaration&lt;/license&gt;

  &lt;buildtool_depend&gt;ament_cmake&lt;/buildtool_depend&gt;
  &lt;depend&gt;rclcpp&lt;/depend&gt;
  &lt;depend&gt;std_msgs&lt;/depend&gt;
  
  &lt;exec_depend&gt;ros2launch&lt;/exec_depend&gt;

  &lt;test_depend&gt;ament_lint_auto&lt;/test_depend&gt;
  &lt;test_depend&gt;ament_lint_common&lt;/test_depend&gt;

  &lt;export&gt;
    &lt;build_type&gt;ament_cmake&lt;/build_type&gt;
  &lt;/export&gt;
&lt;/package&gt;
            </code></pre>
          </div>

        <h4><strong>h. Le fichier de lancement</strong></h4>
          <p>
            Ce fichier <strong>lance simultan√©ment les nodes</strong> du package ROS2.
            Nous avons choisi le format <strong>XML</strong> pour sa simplicit√© et sa facilit√© de prise en main.
          </p>
          <p>
            Il se trouve dans: <strong class="file-path">workspace/install/sensor_data_evaluation/share/sensor_data_evaluation</strong>
          </p>

          <div class="code-container">
            <p>
              <strong>sensor_data_eval_launch.xml</strong>
            </p>
            <div class="btn-bar">
              <button onclick="copierCode('sensor_data_eval_launch-xml', this)">üìã</button>
              <button onclick="telechargerCode('sensor_data_eval_launch-xml', 'sensor_data_eval_launch.xml', 'text/xml', this)">ü°á</button>
               </div>
            <pre><code class="hljs" id="sensor_data_eval_launch-xml">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;launch&gt;
  &lt;node pkg="sensor_data_evaluation" exec="sensor_node_publisher"/&gt;
  &lt;node pkg="sensor_data_evaluation" exec="sensor_node_subscriber"/&gt;
&lt;/launch&gt;
            </code></pre>
          </div>

        <h3  id="4-test2">4. Tests r√©alis√©s </h3>
            <p>
              <strong>Compilation du package</strong> par <strong>colcon</strong>
              et <strong>lancement des nodes</strong> via le launcher:
            </p>
              <div class="code-container">
                <div class="btn-bar">
                  <button onclick="copierCode('test2_T3', this)">üìã</button>
            </div>
            <pre><code class="hljs" id="test2_T3">
user@user-VirtualBox:~$ cd Desktop/workspace
user@user-VirtualBox:~/Desktop/workspace$ colcon build --symlink-install
user@user-VirtualBox:~/Desktop/workspace$ source install/setup.bash
user@user-VirtualBox:~/Desktop/workspace$ ros2 launch sensor_data_evaluation sensor_data_eval_launch.xml
                </code></pre>
              </div>
              
          <video controls width=auto>
            <source src="../videos/Test2/IT/demo.mp4" type="video/mp4">
            Votre navigateur ne supporte pas la vid√©o HTML5.
          </video>
       
          
          <h3 id="5-test2">5. Limites et perspectives</h3>
            <p>
              En utilisant un launcher.xml, les deux nodes s'ex√©cutent sur le m√™me terminal
              ce qui rend difficile la lecture.
            </p>
            <p>
              Pour ne pas encombrer davantage l'affichage, nous avons opt√© pour des donn√©es enti√®res
              et une notification simple pour la v√©rification des plages des donn√©es.
            </p>
          
            <p>
              Pour r√©soudre ce probl√®me, d'autres formats alternatifs existent pour le fichier
              de lancement tel que le format <strong>.py</strong>. 
            </p>

        <h3 id="6-test2">6. Conclusion</h3>    
          <p>
            Ce projet a permis de mettre en ≈ìuvre de mani√®re concr√®te les m√©canismes de publication
            et de souscription dans ROS2 √† travers un exemple simple mais repr√©sentatif d‚Äôun syst√®me de capteurs.
            En simulant des donn√©es environnementales (temp√©rature, humidit√© et pression) et en les √©valuant en temps r√©el,
            nous avons pu r√©pondre au cahier de charge.
          </p>
        
          <p>
            Ce projet repr√©sente une √©tape cl√© dans l‚Äôapprentissage du framework ROS2
            et de son √©cosyst√®me autour de la robotique distribu√©e.
          </p>

          <h3  id="7-test2">7. Bonus</h3>
            <p>
              La vid√©o ci-dessous illustre <strong>la connexion</strong> entre un <strong>node publisher ex√©cut√©</strong> sur une <strong>machine A</strong>
              et un <strong>node subscriber ex√©cut√©</strong> sur une <strong>machine B</strong>, montrant ainsi la communication inter-machines via ROS2.
            </p>
            <video controls width=auto>
              <source src="../videos/Test2/IT/bonus.mp4" type="video/mp4">
              Votre navigateur ne supporte pas la vid√©o HTML5.
            </video>
            <ul>
              <strong>NB:</strong> 
              <li>
                Il est recommand√© d'installer la m√™me distribution de ROS2 sur chaque machine.

              </li>
              <li>
                Il faut aussi v√©rifier qu‚Äôaucun pare-feu ne bloque la communication 
                et que toutes les machines soient connect√©es au m√™me r√©seau, avec tous les packages n√©cessaires install√©s.
              </li>
            </ul>

          <h3  id="8-test2">8. Ressources utiles</h3>
            <p>
              <a href="https://docs.ros.org/en/kilted/index.html" target="_blank">ROS2 Documentation</a>
            </p>
            <p>
              <a href="https://roboticsbackend.com/ros2-multiple-machines-including-raspberry-pi/" target="_blank">ROS2 Multiple Machines Tutorial</a>
            </p>
          
        </div>
      </section>
    </main>
  </div>

  <footer>
    Copyright ¬© 2025 Team B2MS CleanTech. All rights reserved.
  </footer>

  <script src="../scripts/script_commun.js"></script>
  <script src="../scripts/script_code.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
  <script>hljs.highlightAll();</script>
</body>
</html>
