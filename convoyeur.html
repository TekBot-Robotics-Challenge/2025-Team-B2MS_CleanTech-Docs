<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css"
    />
  <link rel="stylesheet" href="styles/style-commun.css" />
  <link rel="stylesheet" href="styles/style-code.css" />
  <title>Syst√®me de convoyeur</title>
</head>
<body>
  <header class="header">
    <div class="section__container header__container_domaine">
      <h2>Conception d'un convoyeur</h2>
    </div>
  </header>

  <div class="layout-container">
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="sidebar-toggle" id="sidebarToggle">
        <i class="fas fa-bars"></i>
      </div>

      <nav class="main-nav">
        <a href="index.html" class="nav-link"><i class="fas fa-home"></i> Accueil</a>
        <a href="it.html" class="nav-link"><i class="fas fa-desktop"></i> IT</a>
        <a href="electronique.html" class="nav-link"><i class="fas fa-microchip"></i> √âlectronique</a>
        <a href="mecanique.html" class="nav-link"><i class="fas fa-cogs"></i> M√©canique</a>
        
        <div class="nav-section">
         <button class="tab-button active" data-target="conveyor-content"><i class="fas fa-robot"></i> Convoyeur</button>
          <div class="sub-links">
            <a class="subtab-button active" data-target="intro" href="#introduction">G√©n√©ralit√©</a>

            <nav class="project-subnav active" id="subnav-intro">
              <a href="#1-intro">1. Contexte</a>
              <a href="#2-intro">2. Objectifs</a>
              <a href="#3-intro">3. Pr√©sentation du syst√®me</a>
              <a href="#4-intro">4. Technologies utilis√©es</a>
            </nav>

            <a class="subtab-button" data-target="cahier" href="#cahier_de_charge">Cahier de charge</a>
            <nav class="project-subnav" id="subnav-cahier">
              <a href="#1-cahier">1. Besoins fonctionnels</a>
              <a href="#2-cahier">2. Contraintes</a>
            </nav>

            <a class="subtab-button" data-target="meca" href="#mecanique">Partie m√©canique</a>
            <nav class="project-subnav" id="subnav-meca">
              <a href="#1-meca">1. √âtude de conception m√©canique</a>
              <a href="#2-meca">2. Choix des composants m√©caniques</a>
              <a href="#3-meca">3. Mod√©lisation CAO (SolidWorks)</a>
              <a href="#4-meca">4. R√©alisation</a>
            </nav>

            <a class="subtab-button" data-target="electro" href="#electronique">Partie √©lectronique</a>
            <nav class="project-subnav" id="subnav-electro">
              <a href="#1-electro">1. Choix et r√¥le des composants</a>
              <a href="#2-electro">2. Sch√©ma √©lectronique</a>
              <a href="#3-electro">3. PCB</a>
              <a href="#4-electro">4. R√©alisation</a>
            </nav>

            <a class="subtab-button" data-target="info" href="#informatique">Partie informatique</a>
            <nav class="project-subnav" id="subnav-info">
              <a href="#1-info">1. D√©tection intelligente et automatisation</a>
              <a href="#2-info">2. Interface Web</a>
              <a href="#3-info">3. Architecture technique</a>
              <a href="#4-info">4. Description des composants de l‚Äôinterface</a>
              <a href="#5-info">5. Communication s√©rie et Traitement des Donn√©es</a>
              <a href="#6-info">6. Instructions d'utilisation</a>
            </nav>

            <a class="subtab-button" data-target="test" href="#validation">Test et validation</a>
            <nav class="project-subnav" id="subnav-test">
              <a href="#1-test">1. Assemblage du convoyeur</a>
              <a href="#2-test">2. Protocole de test</a>
              <a href="#3-test">3. R√©sultats et d√©monstration</a>
            </nav>

            <a class="subtab-button" data-target="concl" href="#conclusion">Conclusion et Annexes</a>
            <nav class="project-subnav" id="subnav-concl">
              <a href="#1-concl">1. Conclusion et perspectives</a>
              <a href="#2-concl">2. Annexes</a>
            </nav>

          </div>
        </div>

      </nav>
    </div>

    <!-- Contenu principal -->
    <main class="main-content">
      <section id="convoyeur-content" class="tab-content active">

        <div id="introduction" class="subtab-content active">
          <h2 id="intro" class="projet-titre">Introduction g√©n√©rale</h2>
          <h3 id="1-intro">1. Contexte:</h3>
            <p>
               Dans le cadre du d√©veloppement durable et de l‚Äôoptimisation des processus industriels, 
               la ville industrielle de TEKBOT CITY souhaite accueillir une nouvelle entreprise sp√©cialis√©e dans le recyclage des d√©chets. 
               Afin de <strong>moderniser</strong> ses infrastructures et de renforcer l‚Äôefficacit√© du <strong>tri</strong>, 
               il est envisag√© d‚Äôinstaller un <strong>syst√®me intelligent de convoyeur</strong> capable d‚Äôidentifier, 
               trier et comptabiliser automatiquement diff√©rents types de d√©chets.
            </p>

            <p>
              Ce projet s'inscrit dans le cadre de la TRC 2025, un challenge technologique pluridisciplinaire visant √† combiner la <strong>m√©canique</strong>, 
              l‚Äô<strong>√©lectronique</strong> et l‚Äô<strong>informatique embarqu√©e</strong> pour r√©soudre des probl√©matiques industrielles concr√®tes.
            </p>
          <h3 id="2-intro">2. Objectifs</h3>
            <p>
              L‚Äôobjectif principal de ce projet est de concevoir, r√©aliser et tester 
              un <strong>syst√®me de convoyeur intelligent</strong> capable de :
              <ul>
                <li>D√©tecter la pr√©sence d‚Äôun objet(un d√©chet) sur un tapis roulant,</li>
                <li>Identifier sa couleur et son type(Rouge, Vert, Jaune, Bleu) √† l‚Äôaide d‚Äôun capteur adapt√©,</li>
                <li>Compter chaque type de d√©chet d√©tect√©,</li>
                <li>Et afficher en temps r√©el ces donn√©es sur une interface web destin√©e aux administrateurs</li>
              </ul>
            </p>
          <h3 id="3-intro">3. Pr√©sentation du syst√®me</h3>
            <p>
              Le syst√®me est compos√© de trois grandes parties interconnect√©es :
            </p>
            <ul>
              <li>
                <strong>La bande transporteuse</strong>(convoyeur) reste immobile en l‚Äôabsence de d√©chet 
                et s‚Äôactive automatiquement d√®s qu‚Äôun objet est d√©tect√© par un capteur de pr√©sence. 
                Elle transporte le d√©chet jusqu‚Äô√† une zone de d√©p√¥t.
              </li>
              <li>
                <strong>Le module de tri</strong> utilise un capteur de couleur pour identifier l‚Äôobjet. 
                Un algorithme embarqu√© analyse cette couleur et classe le d√©chet dans une cat√©gorie d√©finie. 
                En fin de course, une indication visuelle informe l‚Äô√©quipe de collecte sur le bac appropri√©.
              </li>
              <li>
                <strong>L‚Äôinterface web</strong> re√ßoit les donn√©es via une communication s√©rie (Web Serial API) 
                et affiche dynamiquement le nombre de d√©chets tri√©s par couleur. Elle offre une visualisation claire, et permet un suivi en direct.
              </li>
            </ul>
          <h3 id="4-intro">4. Technologies utilis√©es</h3>
            <p>
              Le projet exploite un ensemble coh√©rent de technologies issues des trois domaines du projet :
            </p>
            <table border="2" cellspacing="1" cellpadding="6" style="margin-left: 2rem;">
              <thead>
                <tr>
                  <th>Domaine</th>
                  <th>Technologies¬†/ Outils utilis√©s</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>√âlectronique</strong></td>
                  <td>Arduino¬†Nano, capteur de couleur(ColorPal), capteur de pr√©sence(Ultrason), moteur DC, LED¬†RGB, driver moteur, alimentation Li‚ÄëIon</td>
                </tr>
                <tr>
                  <td><strong>Informatique</strong></td>
                  <td>HTML, CSS, JavaScript (Web¬†Serial¬†API), Python, Chart.js pour les graphiques, communication s√©rie¬†USB</td>
                </tr>
                <tr>
                  <td><strong>M√©canique</strong></td>
                  <td>Conception CAO sur SolidWorks, tapis roulant, structure en bois et plastique</td>
                </tr>
              </tbody>
            </table>
        </div>

        <div id="cahier" class="subtab-content">
          <h2 id="cahier_de_charge" class="projet-titre">Cahier de charge</h2>
          <h3 id="1-cahier">1. Besoins fonctionnels</h3>
            <p>
              Le syst√®me de convoyeur doit r√©pondre aux besoins suivants
            </p>
            <ul>
              <li>
                <strong>Tri intelligent de 4 types de d√©chets</strong>, repr√©sent√©s par des objets de couleurs diff√©rentes:
                <ul>
                  <li>Rouge ‚Üí Type 1</li>
                  <li>Vert ‚Üí Type 2</li>
                  <li>Jaune ‚Üí Type 3</li>
                  <li>Bleu ‚Üí Type 4</li>
                </ul>
              </li>
              <li><strong>D√©tection automatique de la pr√©sence</strong> d‚Äôun objet sur la bande transporteuse √† l‚Äôaide d‚Äôun capteur de pr√©sence</li>
              <li><strong>Identification pr√©cise</strong> de la couleur du d√©chet via un capteur de couleur.</li>
              <li><strong>Activation automatique</strong> du convoyeur uniquement lorsqu‚Äôun objet est d√©tect√©.</li>
              <li><strong>Indication claire de la cat√©gorie de tri</strong>, pour permettre une collecte manuelle efficace dans les bacs correspondants.</li>
              <li><strong>Visualisation en temps r√©el</strong>l sur une interface web intuitive, permettant √† l‚Äôadministrateur de :</li>
              <ul>
                <li>Suivre le nombre de d√©chets tri√©s par type.</li>
                <li>Suivre la performance du syst√®me</li>
                <li>Intervenir en cas de probl√®me</li>
              </ul>
            </ul>


          <h3 id="2-cahier">2. Contraintes</h3>
            <p>
              Le syst√®me doit respecter un ensemble de contraintes techniques fix√©es :
            </p>
            <ul>
              <li>
                <strong>Alimentation autonome</strong> √† partir d‚Äôun bloc de batteries lithium, garantissant une mobilit√© et une s√©curit√© √©nerg√©tique.
              </li>
              <li>
                <strong>D√©tection obligatoire par un syst√®me de capteurs impos√©s :</strong>
                <ul>
                  <li>Capteur de pr√©sence</li>
                  <li>Capteur de couleur</li>
                </ul>
              </li>
              <li>
                <strong>Microcontr√¥leur impos√© :</strong> Arduino Nano ou ATmega
              </li>
              <li>
                <strong>Contraintes m√©caniques pr√©cises :</strong>
                <ul>
                  <li>Longueur du convoyeur : 650 mm.</li>
                  <li>Hauteur du tapis par rapport au sol : 100 mm.</li>
                </ul>
              </li>
              <li>
                <strong>Poids et dimensions des objets √† trier :</strong>
                <ul>
                  <li>Forme : cube.</li>
                  <li>Taille : 30 mm de c√¥t√©.</li>
                </ul>
              </li>
            </ul>
        </div>

        <div id="mecanique" class="subtab-content">
          <h2 id="meca" class="projet-titre">Partie m√©canique</h2>
          <h3 id="1-meca">1. √âtude de conception m√©canique(Analyse fonctionnelle)</h3>
              <p>
                L‚Äôanalyse fonctionnelle est une d√©marche essentielle dans la conception d‚Äôun syst√®me technique. 
                Elle vise √† identifier, comprendre et formaliser les besoins r√©els des utilisateurs ainsi que les fonctions que le syst√®me doit remplir pour y r√©pondre. 
                Dans le cadre de ce projet, qui consiste √† d√©velopper un syst√®me de convoyeur intelligent pour le tri de d√©chets(consid√©r√©s ici comme des objets color√©s), l‚Äôanalyse fonctionnelle permettra de structurer la r√©flexion en distinguant les fonctions principales, les contraintes techniques, et les interactions entre les diff√©rents composants. 
              </p>
            
            <h4>a. Analyse de besoin:</h4>
              <p>
                La b√™te √† cornes est un diagramme repr√©sent√© sous forme de graphique. 
                Il permet de savoir si un produit ou un service r√©pond aux besoins des utilisateurs. 
                Elle est appel√©e b√™te √† corne, car elle ressemble √† une t√™te de taureau avec la ligne reliant les deux boules en haut du diagramme.
                Pour d√©buter, nous allons commencer par faire une analyse de besoin en utilisant ce diagramme de b√™te √† corne qui va nous permettre de r√©pondre aux trois questions suivantes:
                <ul>
                  <li>Qui utilise le syst√®me ?</li>
                  <li>Sur quoi agit-il ?</li>
                  <li>Dans quel but ?</li>
                </ul>
              </p>
              <div class="image-container">
                <img src="images/Test4/Mecanique/analyse1.png" alt="analyse" class="image-mean"/>
              </div>

              <h4>b. √ânonc√© du besoin</h4>
                <p>
                  Notre syst√®me de convoyeur rend service √† une entreprise de recyclage dans la zone industrielle de TECHBOT CITY 
                  en permettant de trier automatiquement des d√©chets en fonction de leurs couleurs afin de faciliter la collecte.  
                </p>

              <h4>c. Analyse fonctionnelle du besoin (AFB)</h4>
                <p>
                  Une analyse fonctionnelle de besoin se concentre sur l'identification de deux types principaux de fonctions: les fonctions principales et les fonctions contraintes.
                  Les fonctions principales d√©crivent ce que le produit ou syst√®me doit faire pour satisfaire le besoin de l'utilisateur, tandis que les fonctions contraintes 
                  d√©finissent les limites ou les conditions dans lesquelles ces fonctions principales doivent √™tre r√©alis√©es.
                </p>
                <p>
                  <strong>Fonctions principales:</strong>
                  <ul>
                    <li>Elles sont la raison d'√™tre du produit ou du syst√®me.</li>
                    <li>Elles r√©pondent directement au besoin de l'utilisateur. </li>
                    <li>Elles peuvent √™tre d√©compos√©es en fonctions √©l√©mentaires pour une analyse plus d√©taill√©e.</li>
                  </ul>
                </p>

                <p>
                  <strong>Fonctions contraintes</strong>
                  <ul>
                    <li>Elles limitent les choix du concepteur et du produit.</li>
                    <li>Elles peuvent √™tre li√©es √† la s√©curit√©, l'environnement, l'ergonomie, etc.</li>
                    <li>Exemple: "√ätre compatible avec les normes de s√©curit√©" pour une voiture. </li>
                  </ul>
                </p>

                <p>
                  En plus de ces fonctions principales et les fonctions de contraintes, 
                  nous allons ajouter et d√©tailler des fonctions de services pour mieux satisfaire les besoins de l‚Äôentreprise de faire le syst√®me de tri avec le convoyeur.
                </p>
                <p>
                  En r√©sum√©, l'analyse fonctionnelle de besoin vise √† identifier 
                  et √† caract√©riser ces deux types de fonctions afin de bien comprendre les exigences du produit et de garantir sa pertinence par rapport au besoin initial. 
                </p>
                
                <p>
                  Pour bien √©tudier notre syst√®me et pour d√©finir les fonctions principales et les fonctions de contraintes, nous allons utiliser le diagramme de pieuvre.
                </p>
                <div class="image-container">
                  <p>Diagramme de pieuvre:</p>
                  <img src="images/Test4/Mecanique/analyse2.png" alt="analyse" class="image-mean"/>
                </div>

                <table border="2" cellspacing="1" cellpadding="6" style="margin-left: 16rem;">
                <tbody>
                  <tr>
                    <td>FP1</td>
                    <td>transf√©rer les d√©chets</td>
                  </tr>
                  <tr>
                    <td>FP2</td>
                    <td>trier les d√©chets</td>
                  </tr>
                  <tr>
                    <td>FP3</td>
                    <td>interface web pour affichage</td>
                  </tr>
                  <tr>
                    <td>FC1</td>
                    <td>utiliser l'arduino nano</td>
                  </tr>
                  <tr>
                    <td>FC2</td>
                    <td>alimentation batterie lithium</td>
                  </tr>
                  <tr>
                    <td>FC3</td>
                    <td>le convoyeur ne doit fonctionner que si un d√©chet est pr√©sent</td>
                  </tr>
                  <tr>
                    <td>FC4</td>
                    <td>le capteur de pr√©sence(Ultrason)</td>
                  </tr>
                  <tr>
                    <td>FC5</td>
                    <td>
                      dimension:
                      <ul>
                        <li style="font-size: 1rem;">longueur du convoyeur: 650 mm</li>
                        <li style="font-size: 1rem;">hauteur du tapis: 100 mm</li>
                        <li style="font-size: 1rem;">largeur du tapis: 50 mm</li>
                      </ul>
                    </td>
                  </tr>
                  <tr>
                    <td>FC6</td>
                    <td>les d√©chets sous formes de cubes de 30 mm</td>
                  </tr>
                  <tr>
                    <td>FS1</td>
                    <td>d√©tecter la pr√©sence d'un d√©chet</td>
                  </tr>
                  <tr>
                    <td>FS2</td>
                    <td>identifier la couleur du d√©chet</td>
                  </tr>
                  <tr>
                    <td>FS3</td>
                    <td>d√©placer le tapis du convoyeur</td>
                  </tr>
                  <tr>
                    <td>FS4</td>
                    <td>afficher les statistiques de tri en temps r√©el sur une interface web</td>
                  </tr>
                  <tr>
                    <td>FS5</td>
                    <td>indiquer √† l'utilisateur dans quelle benne placer le d√©chet</td>
                  </tr>
                </tbody>
              </table>

            <h4>d. Diagramme FAST</h4>
              <p>
                Le diagramme FAST (Function Analysis System Technique) est la repr√©sentation visuelle d'un produit ou d‚Äôun syst√®me et de toutes ses fonctions.
                Ce diagramme est un outil utilis√© par les entreprises pour obtenir une vision globale d'un produit existant ou en cours de cr√©ation. Il repr√©sente sch√©matiquement toutes les fonctions de l'article et la mani√®re dont il les met en ≈ìuvre.
              </p>
              <p><strong>√Ä quoi sert le diagramme FAST ?</strong></p>
              <p>
                Il r√©pond √† trois grandes questions pour chaque fonction :
                <ul>
                  <li>Pourquoi ?</li>
                  <li>Comment ?</li>
                  <li>Quand ?</li>
                </ul>
              </p>
              <p>
                Il repr√©sente <strong>graphiquement</strong> les relations entre les fonctions principales (FP) et les fonctions de service (FS)
              </p>
              <div class="image-container">
                <img src="images/Test4/Mecanique/analyse3.png" alt="analyse" class="image-mean"/>
              </div>
            <h4>e. Conclusion g√©n√©rale de l‚Äôanalyse fonctionnelle</h4>
              <p>
                L‚Äôanalyse fonctionnelle a permis d‚Äôidentifier clairement les fonctions principales du syst√®me de convoyeur : trier automatiquement les d√©chets selon leur couleur.
                Pour r√©pondre efficacement √† ce besoin, plusieurs fonctions de service ont √©t√© d√©finies, telles que la d√©tection de pr√©sence, l‚Äôidentification de couleur, le d√©placement du tapis et l‚Äôaffichage des statistiques en temps r√©el.
              </p>
              <p>
                Les fonctions contraintes impos√©es par le cahier des charges (composants √† utiliser, dimensions, alimentation etc.) ont √©t√© int√©gr√©es dans la conception d√®s les premi√®res √©tapes
              </p>
              <p>
                Cette analyse permet ainsi de poser une base solide pour la phase de conception et garantit que le syst√®me r√©pondra aux attentes techniques, fonctionnelles et ergonomiques de l‚Äôentreprise utilisatrice.
              </p>
            
            

          <h3 id="2-meca">2. Choix des composants m√©caniques</h3>
            <p>
              Ayant d√©j√† du bois comme mati√®re premi√®re, nous avons d√©cid√© de l‚Äôutiliser, 
              ainsi que d‚Äôautres composants d√©j√† en notre possession tels que le tapis et les roulements.
            </p>
            <p>
              Voici donc le tableau r√©capitulatif des composants utilis√©s et de leur r√¥le :
            </p>
            <table border="2" cellspacing="1" cellpadding="6" style="margin-left: 20rem;">
              <thead>
                <tr>
                  <th>Composants</th>
                  <th>Mat√©riaux</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Parois lat√©rales</strong></td>
                  <td>Bois</td>
                </tr>
                <tr>
                  <td><strong>Tapis</strong></td>
                  <td>Textile</td>
                </tr>
                <tr>
                  <td><strong>Roulements</strong></td>
                  <td>Acier</td>
                </tr>
                <tr>
                  <td><strong>Tambours</strong></td>
                  <td>Plastique</td>
                </tr>
                <tr>
                  <td><strong>Supports des tambours</strong></td>
                  <td>Plastique</td>
                </tr>
                <tr>
                  <td><strong>Supports des composants √©lectroniques</strong></td>
                  <td>Plastique</td>
                </tr>
              </tbody>
            </table>
          <h3 id="3-meca">3. Mod√©lisation CAO (SolidWorks)</h3>
            <p>
              Nous avons con√ßu les diff√©rentes pi√®ces puis avons assembl√© sur <strong>SolidWorks</strong> 
              en respectant les dimensions du cahier de charge.
            </p>
            <h4>a. Parois lat√©rales</h4>
              <p>
                Il s'agit de la structure principale du convoyeur.
              </p>
              <div class="image-container">
                <img src="images/Test4/Mecanique/parois1.png" alt="parois" class="image-mean"/>
                <img src="images/Test4/Mecanique/parois2.png" alt="parois" class="image-mean"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Bord.SLDPRT" download class="download-link">t√©l√©charger la parois lat√©rale</a>
                </p> 
              </div>

            <h4>b. Tapis</h4>
              <p>
                Il s'agit de la structure principale du convoyeur.
              </p>
              <div class="image-container">
                <img src="images/Test4/Mecanique/tapis1.png" alt="tapis" class="image-mean"/>
                <img src="images/Test4/Mecanique/tapis2.png" alt="tapis" class="image-mean"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Tapis.SLDPRT" download class="download-link">t√©l√©charger le tapis</a>
                </p> 
              </div>

            <h4>c. Roulements</h4>
              <p>
                Il s'agit de la structure principale du convoyeur.
              </p>

              <div class="image-container">
                <p>Interieur du roulement:</p>
                <img src="images/Test4/Mecanique/roulements1.png" alt="roulements" class="image-small"/>
                <img src="images/Test4/Mecanique/roulements2.png" alt="roulements" class="image-small"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Bearing__Type-1__Inner.SLDPRT" download class="download-link">t√©l√©charger l'interieur du roulement</a>
                </p> 
              </div>

              <div class="image-container">
                <p>Exterieur du roulement:</p>
                <img src="images/Test4/Mecanique/roulements3.png" alt="roulements" class="image-small"/>
                <img src="images/Test4/Mecanique/roulements4.png" alt="roulements" class="image-small"/>
                <img src="images/Test4/Mecanique/roulements5.png" alt="roulements" class="image-small"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Bearing__Type-1__Outer.SLDPRT" download class="download-link">t√©l√©charger l'exterieur du roulement</a>
                </p> 
              </div>

              <div class="image-container">
                <p>Le roulement assembl√©:</p>
                <img src="images/Test4/Mecanique/roulements6.png" alt="roulements" class="image-mean"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Bearing__Type-1.SLDASM" download class="download-link">t√©l√©charger le roulement assembl√©</a>
                </p> 
              </div>

            <h4>d. Tambours</h4>
              <p>
                Les deux tambours entrainent le tapis en rotation.
                L'un des tambours est connect√© au moteur.
              </p>
              
              <div class="image-container">
                <p>Tambour connect√© au moteur</p>
                <img src="images/Test4/Mecanique/tambours_motor1.png" alt="tambours_motor" class="image-small"/>
                <img src="images/Test4/Mecanique/tambours_motor2.png" alt="tambours_motor" class="image-small"/>
                <img src="images/Test4/Mecanique/tambours_motor3.png" alt="tambours_motor" class="image-small"/>
                <img src="images/Test4/Mecanique/tambours_motor4.png" alt="tambours_motor" class="image-small"/>             
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Cylindre%20convoyeur%20moteur.SLDPRT" download class="download-link">t√©l√©charger le tambour connect√© au moteur</a>
                </p> 
              </div>

              <div class="image-container">
                <p>Tambour libre</p>
                <img src="images/Test4/Mecanique/tambours_libre1.png" alt="tambours_libre" class="image-small"/>
                <img src="images/Test4/Mecanique/tambours_libre2.png" alt="tambours_libre" class="image-small"/>
                <img src="images/Test4/Mecanique/tambours_libre3.png" alt="tambours_libre" class="image-small"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Cylindre%20conv.SLDPRT" download class="download-link">t√©l√©charger le tambour libre</a>
                </p> 
              </div>
              
            <h4>e. Supports des tambours</h4>
              <p>
                Ils permettent de relier les parois, les roulement et les tambours.
              </p>
              <div class="image-container">
                <p>Support du tambour c√¥t√© moteur</p>
                <img src="images/Test4/Mecanique/support_tambours_motor1.png" alt="support_tambours_motor" class="image-small"/>
                <img src="images/Test4/Mecanique/support_tambours_motor2.png" alt="support_tambours_motor" class="image-small"/>
                <img src="images/Test4/Mecanique/support_tambours_motor3.png" alt="support_tambours_motor" class="image-mean"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Roller__Holder_inside.SLDPRT" download class="download-link">t√©l√©charger le support du tambour c√¥t√© moteur</a>
                </p> 
              </div>

              <div class="image-container">
                <p>Support des tambours libres</p>
                <img src="images/Test4/Mecanique/support_tambours_libre1.png" alt="support_tambours_libre" class="image-small"/>
                <img src="images/Test4/Mecanique/support_tambours_libre2.png" alt="support_tambours_libre" class="image-small"/>
                <img src="images/Test4/Mecanique/support_tambours_libre3.png" alt="support_tambours_libre" class="image-mean"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Roller__Holder.SLDPRT" download class="download-link">t√©l√©charger le support du tambour libre</a>
                </p> 
              </div>
            
            <h4>f. Supports des composants √©lectroniques</h4>
              <p>
                Ils permettent de supporter et de fixer les composants √©lectroniques.
              </p>
              <div class="image-container">
                <p>Support Ultrason et moteur</p>
                <img src="images/Test4/Mecanique/support_composant1.png" alt="support_composant" class="image-small"/>
                <img src="images/Test4/Mecanique/support_composant2.png" alt="support_composant" class="image-small"/>
                <img src="images/Test4/Mecanique/support_composant3.png" alt="support_composant" class="image-mean"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Support_Ultrason.SLDPRT" download class="download-link">t√©l√©charger le support Ultrason et moteur</a>
                </p> 
              </div>

              <div class="image-container">
                <p>Support du circuit</p>
                <img src="images/Test4/Mecanique/support_composant4.png" alt="support_composant" class="image-small"/>
                <img src="images/Test4/Mecanique/support_composant5.png" alt="support_composant" class="image-small"/>
                <img src="images/Test4/Mecanique/support_composant6.png" alt="support_composant" class="image-mean"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Support%20PCB.SLDPRT" download class="download-link">t√©l√©charger le support du circuit</a>
                </p> 
              </div>

            <h4>g. Moteur DC</h4>
              <p>
                Il s'agit de la structure principale du convoyeur.
              </p>
              <div class="image-container">
                <img src="images/Test4/Mecanique/moteur1.png" alt="moteur" class="image-small"/>
                <img src="images/Test4/Mecanique/moteur2.png" alt="moteur" class="image-small"/>
                <img src="images/Test4/Mecanique/moteur3.png" alt="moteur" class="image-small"/>
                <img src="images/Test4/Mecanique/moteur4.png" alt="moteur" class="image-small"/>
                <img src="images/Test4/Mecanique/moteur5.png" alt="moteur" class="image-small"/>
                <img src="images/Test4/Mecanique/moteur6.png" alt="moteur" class="image-small"/>
                <img src="images/Test4/Mecanique/moteur7.png" alt="moteur" class="image-small"/>
                <img src="images/Test4/Mecanique/moteur8.png" alt="moteur" class="image-small"/>
                <img src="images/Test4/Mecanique/moteur9.png" alt="moteur" class="image-small"/>
                <img src="images/Test4/Mecanique/moteur10.png" alt="moteur" class="image-small"/>
              </div>

              <div class="image-container">
                <img src="images/Test4/Mecanique/moteur11.png" alt="moteur" class="image-mean"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Motor%20DC.rar" download class="download-link">t√©l√©charger le moteur DC</a>
                </p> 
              </div>

            <h4>h. Le convoyeur assembl√©</h4>
              <p>
                A partir de ces pi√®ces, nous avons assembl√© le convoyeur.
              </p>
              <div class="image-container">
                <img src="images/Test4/Mecanique/assemblage1.png" alt="assemblage" class="image-small"/>
                <img src="images/Test4/Mecanique/assemblage2.png" alt="assemblage" class="image-small"/>
                <img src="images/Test4/Mecanique/assemblage3.png" alt="assemblage" class="image-mean"/>
                <img src="images/Test4/Mecanique/assemblage4.png" alt="assemblage" class="image-mean"/>
                <img src="images/Test4/Mecanique/assemblage5.png" alt="assemblage" class="image-mean"/>
                <p>
                  <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/Assemblage1.SLDASM" download class="download-link">t√©l√©charger le convoyeur assembl√©</a>
                </p> 
              </div>

            <p class="txt_center">
              T√©l√©charger l'ensemble(pi√®ces et assemblages) <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Mecanique/B2MS_convoyeur_CAO.rar" download class="download-link">ici</a>
            </p> 

          <h4 id="4-meca">4. R√©alisation</h4>
           <p>
            Les pi√®ces en plastique n√©cessaires au montage ont √©t√© mod√©lis√©es puis imprim√©es √† l‚Äôaide d‚Äôune imprimante 3D.
           </p>
           <div class="image-container">
              <img src="images/Test4/Mecanique/impression3d1.jpg" alt="impression" class="image-small"/>
              <img src="images/Test4/Mecanique/impression3d2.jpg" alt="impression" class="image-small"/>
            </div>

            <video controls width=30%>
              <source src="videos/Test4/Mecanique/impression3d1.mp4" type="video/mp4">
              Votre navigateur ne supporte pas la vid√©o HTML5.
            </video>
            <video controls width=30%>
              <source src="videos/Test4/Mecanique/impression3d2.mp4" type="video/mp4">
              Votre navigateur ne supporte pas la vid√©o HTML5.
            </video>

           <p>
            Le bois a √©t√© d√©coup√© en respectant les dimensions d√©finies sur SolidWorks, garantissant une structure pr√©cise.
            Pour la fabrication du tapis roulant, un textile robuste utilis√© habituellement pour les sacs a √©t√© choisi, assurant une bonne r√©sistance.
           </p>
           <div class="image-container">
              <img src="images/Test4/Mecanique/realisation_piece1.jpg" alt="realisation_piece" class="image-small"/>
              <img src="images/Test4/Mecanique/realisation_piece2.jpg" alt="realisation_piece" class="image-small"/>
              <img src="images/Test4/Mecanique/realisation_conv1.jpg" alt="realisation_conv" class="image-mean"/>
              <img src="images/Test4/Mecanique/realisation_conv2.jpg" alt="realisation_conv" class="image-small"/>
            </div>
   
            <p>
              Cette m√©thode a permis d‚Äôobtenir des composants parfaitement adapt√©s au syst√®me.
            L'ensemble a √©t√© assembl√© avec soin pour assurer la stabilit√© et la fonctionnalit√© du convoyeur.
            </p>

            <div class="image-container">
              <img src="images/Test4/Mecanique/realisation_conv3.jpg" alt="realisation_conv" class="image-mean"/>
            </div>

        </div>

        <div id="electronique" class="subtab-content">
          <h2 id="electro" class="projet-titre">Partie √©lectronique</h2>
          <h3 id="1-electro">1. Choix et r√¥le des composants</h3>
            <p>
            Pour ce test, nous avons opt√© pour les composants suivants:
            </p>            
            <h4>a. Arduino Nano</h4>
              <p>
                L'Arduino Nano est une carte microcontr√¥leur compacte et polyvalente bas√©e sur l'ATmega328P. 
                Ses broches et ses caract√©ristiques techniques lui conf√®rent de nombreuses fonctionnalit√©s.
              </p>
              <div class="image-container">
                <img src="images/Test4/Electronique/arduino_nano.png" alt="nano" class="image-mean"/>
              </div>
              <p>
                Il contr√¥le le syst√®me √©lectronique et envoit les donn√©es vers l'interface web par connexion USB.
              </p>

              <h4>b. Le capteur de couleur <strong>ColorPal</strong></h4>
                <p>
                  Ce capteur sera utilis√© pour d√©tecter la couleur des objets.
                  Il lit les couleurs RGB(avec redPal(), greenPal(), bluePAL()) d'un objet ce qui nous permet d'identifier sa couleur.
                </p>
                <div class="image-container">
                  <img src="images/Test4/Electronique/colorpal.jpg" alt="colorpal" class="image-mean"/>
                </div>
                
                <p>
                  Pour l'utiliser, nous avons install√© la librairie correspondante: <a href="https://github.com/westpoint-robotics/ColorPAL/archive/refs/heads/master.zip" target="_blank"><strong>ColorPal</strong></a>.
                </p>
                <div class="code-container">
                  <p>code_colorpal.ino </p>
                  <div class="btn-bar">
                    <button onclick="copierCode('code_colorpal-ino', this)">üìã</button>
                    <button onclick="telechargerCode('code_colorpal-ino', 'code_colorpal.ino', 'text/ino', this)">ü°á</button>
                  </div>
                  <pre><code id="code_colorpal-ino">
    #include &lt;ColorPAL.h&gt;

    ColorPAL sensor;

    void setup()
    {
      sensor.attachPAL(12);                 // Attaches sensor to digital pin 12
      Serial.begin(9600);
    }

    void loop()
    {
      int red = sensor.redPAL();            // Reads sensors and returns red value
      int green = sensor.greenPAL();        // Reads sensors and returns green value
      int blue = sensor.bluePAL();          // Reads sensors and returns blue value
      Serial.print(red); Serial.print(" ");
      Serial.print(green); Serial.print(" ");
      Serial.println(blue);
    }
                </code></pre>
              </div>

            <h4>c. Le capteur de pr√©sence <strong>Ultrasonic HC</strong></h4>
                <P>
                  Le capteur √† ultrasons d√©termine la distance d‚Äôun objet par rapport √† sa position.
                  Il g√©n√®re un signal √† bande √©troite √† une fr√©quence de 40 kHz et capte le signal r√©fl√©chi(√©cho). 
                  Sur la base du temps de propagation du son vers et depuis l‚Äôobjet, la distance (en centim√®tres) peut √™tre d√©termin√©e assez pr√©cis√©ment.
                  Ce capteur permet donc de d√©tecter la pr√©sence d'une pi√®ce tout le long du convoyeur.                 
                </P>
                <div class="image-container">
                  <img src="images/Test4/Electronique/ultrasonic.jpg" alt="Ultrason" class="image-mean"/>
                </div>

                <p>
                  <ul>
                    <li>
                      <strong>TRIG</strong>(OUTPUT) envoie une impulsion √©lectrique de 10 microsecondes pour d√©clencher la mesure. 
                      Cette impulsion commande au capteur d‚Äô√©mettre une onde ultrasonore.
                    </li>
                    <li>
                      <strong>Echo</strong>(INPUT) re√ßoit l‚Äôonde ultrasonore r√©fl√©chie par un objet et passe √† l‚Äô√©tat HAUT pendant une dur√©e proportionnelle √† la distance mesur√©e. 
                      Cette dur√©e est utilis√©e pour calculer la distance entre le capteur et l‚Äôobjet.
                    </li>
                  </ul>
                </p>
                
                <div class="code-container">
                  <p>code_ultrasonic.ino </p>
                  <div class="btn-bar">
                    <button onclick="copierCode('code_ultrasonic-ino', this)">üìã</button>
                    <button onclick="telechargerCode('code_ultrasonic-ino', 'code_ultrasonic.ino', 'text/ino', this)">ü°á</button>
                  </div>
                  <pre><code id="code_ultrasonic-ino">
    #define trigPin 2 // D√©finir la broche 2 pour le Trig
    #define echoPin 3 // D√©finir la broche 3 pour l'Echo

    long duration; // Variable pour la dur√©e de l'√©cho
    int distance; // Variable pour la distance calcul√©e

    void setup() {
      pinMode(trigPin, OUTPUT); // Configurer trigPin en sortie
      pinMode(echoPin, INPUT); // Configurer echoPin en entr√©e
      Serial.begin(9600); // Initialiser la communication s√©rie √† 9600 bauds
    }

    void loop() {
      // Envoyer une impulsion ultrasonique de 10 ¬µs
      digitalWrite(trigPin, LOW); 
      delayMicroseconds(2); 
      digitalWrite(trigPin, HIGH); 
      delayMicroseconds(10); 
      digitalWrite(trigPin, LOW);

      // Lire la dur√©e de l'√©cho
      duration = pulseIn(echoPin, HIGH);

      // Calculer la distance en utilisant la formule
      distance = duration * 0.034 / 2; 

      // Afficher la distance sur le moniteur s√©rie
      Serial.print("Distance: ");
      Serial.print(distance);
      Serial.println(" cm");

      delay(1000); // Attendre 1 seconde avant de refaire une lecture
    }
                </code></pre>
              </div>

              <h4>d. RGB LED 5050</h4>
                <p>
                  Bien que nous ayons 8 leds sur ce composant, nous allons utiliser qu'une seule pour afficher diff√©rentes couleurs 
                  selon la couleur de l'objet d√©t√©ct√©.
                </p>
                <p>
                  Cette led s'allume selon la couleur de l'objet.
                </p>
                <div class="image-container">
                  <img src="images/Test4/Electronique/led.jpg" alt="LED" class="image-mean"/>
                </div>
                
                <div class="code-container">
                  <p>code_led.ino </p>
                  <div class="btn-bar">
                    <button onclick="copierCode('code_led-ino', this)">üìã</button>
                    <button onclick="telechargerCode('code_led-ino', 'code_led.ino', 'text/ino', this)">ü°á</button>
                  </div>
                  <pre><code id="code_led-ino">
    const int ledCount = 8;    // Number of LEDs on the module
    const int colourCount = 3; // Number of colors (RGB)
    int ledPins[] = { 6, 7, 8, 9, 10, 11, 12, 13 }; // Assign pin numbers to each LED
    int colourPins[] = { 3, 4, 5 }; // Assign pin numbers to RGB color channels

    void setup() {
      for (int thisLed = 0; thisLed < ledCount; thisLed++) {
        pinMode(ledPins[thisLed], OUTPUT);
        digitalWrite(ledPins[thisLed], HIGH);
      }
      for (int thisColour = 0; thisColour < colourCount; thisColour++) {
        pinMode(colourPins[thisColour], OUTPUT);
        digitalWrite(colourPins[thisColour], HIGH);
      }
    }

    void loop() {
      for (int thisColour = 0; thisColour < colourCount; thisColour++) {
        digitalWrite(colourPins[thisColour], LOW);

        for (int thisLed = 0; thisLed < ledCount; thisLed++) {
          digitalWrite(ledPins[thisLed], LOW);
          delay(100);
          digitalWrite(ledPins[thisLed], HIGH);
        }
        
        digitalWrite(colourPins[thisColour], HIGH);
      }
    }
                </code></pre>
              </div>

              <video controls width=50%>
                <source src="videos/Test4/Electronique/led.mp4" type="video/mp4">
                Votre navigateur ne supporte pas la vid√©o HTML5.
              </video>

              <h4>e. Motor driver L298N</h4>
                <p>
                  Un motor driver permet de piloter un moteur avec un microcontr√¥leur en g√©rant la puissance, la direction, et parfois la vitesse, tout en prot√©geant le syst√®me.
                  Il agit comme un commutateur √©lectronique qui :
                  <ul>
                    <li>Re√ßoit les signaux de commande du microcontr√¥leur</li>
                    <li>Fournit le courant n√©cessaire au moteur √† partir d'une source d‚Äôalimentation externe</li>
                  </ul>
                </p>
                <div class="image-container">
                  <img src="images/Test4/Electronique/motor_driver.jpg" alt="Motor Driver" class="image-mean"/>
                </div>

                <h4>f. Moteur DC</h4>
                <p>
                  C'est le moteur qui fera tourner le convoyeur.
                </p>
                <div class="image-container">
                  <img src="images/Test4/Electronique/moteur_dc.jpg" alt="Moteur" class="image-small"/>
                </div>

                <h4>g. Piles lithium</h4>
                <p>
                  L'alimentation sera assur√©e par trois piles lithium(3.7V chacune).
                </p>
                <div class="image-container">
                  <img src="images/Test4/Electronique/pile.jpg" alt="Pile" class="image-small"/>
                </div>
          
          <h3 id="2-electro">2. Sch√©ma et montage √©lectronique</h3>
            <p>
              Nous avons mod√©lis√© le sch√©ma √©lectronique sur Kicad.
            </p>
            <div class="image-container">
              <img src="images/Test4/Electronique/schema_electronique.png" alt="schema" class="image-mean"/>
            </div>

            <p>
              Puis, nous avons r√©alis√© les branchements sur un breadboard pour les tests.
            </p>
            <div class="image-container">
              <img src="images/Test4/Electronique/test_breadboard1.jpg" alt="test" class="image-small"/>
              <img src="images/Test4/Electronique/test_breadboard2.jpg" alt="test" class="image-small"/>
            </div>

            
          <h3 id="3-electro">3. PCB</h3>
            <p>
              Nous avons r√©alis√© un PCB sur Kicad au pr√©alable comme suit:
            </p>
            <div class="image-container">
              <img src="images/Test4/Electronique/schema_electronique.png" alt="pcb" class="image-mean" />
              <p>
                Conception du sch√©ma √©lectronique.
              </p>
            </div>
            
            <div class="image-container">
              <img src="images/Test4/Electronique/pcb1.png" alt="pcb" class="image-mean" />
              <p>
                Attribution des empreintes.
              </p>
            </div>
        
            <div class="image-container">
              <img src="images/Test4/Electronique/pcb2.png" alt="pcb" class="image-mean" />
              <p>
                Verificaton des erreurs (DRC)
              </p>
            </div>
            
            <div class="image-container">
              <img src="images/Test4/Electronique/pcb3.png" alt="pcb" class="image-small" />
              <p>
                Ajustement de la disposition.
              </p>
            </div>

            <div class="image-container">
              <img src="images/Test4/Electronique/pcb4.png" alt="pcb" class="image-small" />
              <p>
                Routage des pistes et d√©finition des contours du PCB (Edge Cuts).
              </p>
            </div>
            

            <div class="image-container">
              <img src="images/Test4/Electronique/pcb5.png" alt="pcb" class="image-small" />
              <p>
                Plan de masse GND
              </p>
            </div>

            <div class="image-container">
              <img src="images/Test4/Electronique/pcb6.png" alt="pcb" class="image-mean" />
              <p>
                Ajout du model 3D de l'arduino nano.
              </p>
            </div>

            <div class="image-container">
              <img src="images/Test4/Electronique/pcb7.png" alt="pcb" class="image-small" />
              <p>
                Ajout des textes sur la plaque.
              </p>
            </div>

            <div class="image-container">
              <img src="images/Test4/Electronique/pcb8.png" alt="pcb" class="image-mean" />
              <p>
                Visualisation 3D
              </p>
            </div>

            <p class="txt_center">
              <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/Electronique/convoyeur_pcb.rar" target="_blank" class="download-link">t√©l√©charger les fichiers du PCB</a>
            </p>

          <h3 id="4-electro">4. R√©alisation</h3>
            <p>
              Apr√®s les tests sur le breadboard et la conception du PCB, il est temps de r√©aliser le circuit final.
              Nous utilisons ici un veroboard, tout en respectant les pins utilis√©es dans la conception du PCB.
            </p>
            <div class="image-container">
              <img src="images/Test4/Electronique/circuit1.jpg" alt="circuit" class="image-mean"/>
              <img src="images/Test4/Electronique/circuit2.jpg" alt="circuit" class="image-mean"/>
              <img src="images/Test4/Electronique/circuit3.jpg" alt="circuit" class="image-mean"/>
            </div>
        </div>

        <div id="informatique" class="subtab-content">
          <h2 id="info" class="projet-titre">Partie informatique</h2>
          <h3 id="1-info">1. D√©tection intelligente et automatisation</h3>
            <p>
              La d√©tection intelligente repose sur un syst√®me de reconnaissance de couleur embarqu√© utilisant le capteur <strong>ColorPAL</strong>, pilot√© par une carte <strong>Arduino Nano</strong>. 
              Ce syst√®me a pour mission d‚Äôidentifier la couleur d‚Äôun objet (repr√©sentant un type de d√©chet) √† son passage sur un tapis <strong>convoyeur automatis√©</strong>.
            </p>
            <p>
              D√©tails techniques:
              <ul>
                <li>
                  Le capteur ColorPAL envoie des signaux RGB que l'Arduino interpr√®te pour les mapper √† une couleur pr√©d√©finie (Rouge, Vert, Bleu, Jaune).
                </li>
                <li>
                  Les donn√©es sont cod√©es sous forme de lettres majuscules (R, G, B, Y, U) pour les entr√©es.
                </li>
                <li>
                  La d√©tection se fait sans intervention humaine : d√®s qu‚Äôun objet entre dans le champ de lecture du capteur, la donn√©e est g√©n√©r√©e automatiquement.
                </li>
              </ul>
            </p>
            <p>
              Cycle typique:
              <ul>
                <li>
                  L‚Äôobjet est pos√© sur le tapis.
                </li>
                <li>
                  Le convoyeur s‚Äôarr√™te devant le capteur.
                </li>
                <li>
                  La couleur est d√©tect√©e (ex. B pour bleu).
                </li>
                <li>
                  Le caract√®re est envoy√© au serveur Python.
                </li>
                <li>
                  Le tapis red√©marre.
                </li>
              </ul>
            </p>

            <p>
              De plus, le convoyeur transporte les d√©chets devant le capteur:
              <ul>
                <li>Moteur DC pour faire avancer le tapis roulant.</li>
                <li>Driver L298N pour commander le moteur √† partir de l‚ÄôArduino.</li>
                <li>Capteur de pr√©sence en fin de ligne pour d√©tecter quand un objet sort.</li>
              </ul>
            </p>
            <p>
              En effet:
              <ul>
                <li>Lorsqu'un objet est d√©tect√©, le moteur d√©marre et fait tourner le tapis.</li>
                <li>Le capteur de couleur s'active lorsque la pi√®ce se trouve √† son niveau.</li>
                <li>Le moteur s'arr√™te lorsque l'objet n'est plus dans la zone de vision du capteur Ultrason.</li>
              </ul>
            </p>

            <div class="code-container">
              <p>code_convoyeur.ino</p>
              <div class="btn-bar">
                <button onclick="copierCode('code_convoyeur-ino', this)">üìã</button>
                <button onclick="telechargerCode('code_convoyeur-ino', 'code_convoyeur.ino', 'text/ino', this)">ü°á</button>
              </div>
              <pre><code id="code_convoyeur-ino">
    #include &lt;ColorPAL.h&gt;

    #define colorSensorPin 12
    ColorPAL colorSensor;

    #define RED_PIN 3  // Pin for red color
    #define GREEN_PIN 5  // Pin for green color
    #define BLUE_PIN 6 // Pin for blue color

    #define LED0 2 //led

    // Capteur ultrason
    #define TRIG_PIN 18
    #define ECHO_PIN 19

    // Contr√¥le moteur
    #define enA 11
    #define in1 10
    #define in2 9

    int red = 0, green = 0, blue = 0;

    long distance = 0;
    char color_detected = 'U';

    void setup()
    {
      // Moteur
      pinMode(enA, OUTPUT);
      pinMode(in1, OUTPUT);
      pinMode(in2, OUTPUT);

      // Ultrason
      pinMode(TRIG_PIN, OUTPUT);
      pinMode(ECHO_PIN, INPUT);

      // Capteur de couleur
      colorSensor.attachPAL(colorSensorPin);        // Attaches color sensor           

      pinMode(RED_PIN, OUTPUT);
      pinMode(GREEN_PIN, OUTPUT);
      pinMode(BLUE_PIN, OUTPUT);
      
      pinMode(LED0, OUTPUT);
      digitalWrite(LED0, HIGH);  //LED d√©sactiv√©


      Serial.begin(9600);
    }

    void loop(){
      //distance de l'objet par rapport au capteur
      distance = getDistance();

      if(distance < 65){
        //zone de d√©tection de couleur
        if(9 < distance && distance < 13){
          //arr√™t du moteur
          analogWrite(enA, 0);
          digitalWrite(in2, LOW);
          digitalWrite(in1, LOW);

          color_detected = readColor();  //detection de couleur

          Serial.println(color_detected);  //envoie de la couleur √† l'interface
          digitalWrite(LED0, LOW);    //LED activ√©
          switch(color_detected){
            case 'R':
              setColor(250, 0, 0); //red
              break;
            case 'G':
              setColor(0, 250, 0); //green
              break;
            case 'B':
              setColor(0, 0, 250); //blue
              break;
            case 'Y':
              setColor(200, 250, 0); //yellow
              break;
            default:
              setColor(60, 100, 100);
              break;
          }
          //redemarrage du moteur
          analogWrite(enA, 100);
          digitalWrite(in2, HIGH);
          digitalWrite(in1, LOW);
          delay(500);
        }
        analogWrite(enA, 100);
        digitalWrite(in2, HIGH);
        digitalWrite(in1, LOW);
        delay(20);
      }
      else{
        //arr√™t du moteur
        analogWrite(enA, 0);
        digitalWrite(in2, LOW);
        digitalWrite(in1, LOW);
      }
    }


    // Function to set color for LEDs
    void setColor(int red, int green, int blue) {
      analogWrite(RED_PIN, red);
      analogWrite(GREEN_PIN, green);
      analogWrite(BLUE_PIN, blue);
    }

    // Fonction pour lire la couleur
    char readColor() {
      red = 0;
      green = 0;
      blue = 0;
      // 10 echantillons de chaque valeur RGB pour de meilleurs r√©sultats
      for(int i = 0; i < 10; i++){
        red += colorSensor.redPAL();     
        green += colorSensor.greenPAL(); 
        blue += colorSensor.bluePAL();   
      }
      red = red/10;
      green = green/10;
      blue = blue/10;

      if(40 < red && red < 255 && 0 < green && green < 17 && 0 < blue && blue < 17) return 'R';  // Rouge
      else if (0 < red && red < 17 && 10 < green && green < 255 && 0 < blue && blue < 30) return 'G';  // Vert
      else if (0 < red && red < 17 && 0 < green && green < 255 && 30 < blue && blue < 255) return 'B';  // Bleu

      return 'Y'; // Yellow
    }

    // Fonction pour lire la distance avec le capteur ultrason
    long getDistance() {
      digitalWrite(TRIG_PIN, LOW);
      delayMicroseconds(2);
      digitalWrite(TRIG_PIN, HIGH);
      delayMicroseconds(10);
      digitalWrite(TRIG_PIN, LOW);

      long duration = pulseIn(ECHO_PIN, HIGH);
      long distance = (duration / 2.0) * 0.0344;
      return distance;
    }
              </code></pre>
            </div>

            <p class="txt_center">
              <strong>NB:</strong> Les commentaires expliquent en d√©tail le code.
            </p>
            

          <h3 id="2-info">2. Interface Web</h3>
            <p>
              L‚Äôinterface web du projet <strong>Convoyeur Intelligent</strong> permet la visualisation en temps r√©el des donn√©es re√ßues du capteur de couleurs Arduino. 
              Elle affiche les compteurs de d√©chets selon leur couleur (Rouge, Vert, Bleu, Jaune, Autre), ainsi que les derni√®res entr√©es et sorties d√©tect√©es. 
              L‚Äôinterface facilite le suivi du tri des d√©chets automatis√© sur le convoyeur.
            </p>
            <h4>Fonctionnalit√©s principales</h4>
              <div class="image-container">
                <img src="images/Test4/IT/web1.png" alt="web" class="image-mean"/>
              </div>
              <ul>
                <li>Affichage des compteurs:</li>
                <p>
                  Visualisation en temps r√©el du nombre de d√©chets d√©tect√©s par couleur, pour les entr√©es et les sorties.
                </p>
                <li>Affichage des derni√®res actions:</li>
                <p>
                  Indication claire de la derni√®re action r√©alis√©e : entr√©e ou sortie, avec la couleur correspondante et l‚Äôheure.
                </p>
                <li>Notifications en temps r√©el:</li>
                <p>
                  Messages contextuels envoy√©s aux utilisateurs √† chaque d√©tection, pr√©cisant la couleur et l‚Äôaction (entr√©e ou sortie).
                </p>
                <li>R√©initialisation des compteurs:</li>
                <p>
                  Bouton permettant de remettre les compteurs √† z√©ro, avec mise √† jour instantan√©e.
                </p>
                <div class="image-container">
                  <img src="images/Test4/IT/web2.png" alt="web" class="image-mean"/>
                </div>
                <li>Historiques des d√©chets:</li>
                <p>
                  <ul>
                    <li>Journal d√©taill√© de toutes les d√©tections d‚Äôobjets tri√©s (entr√©es et sorties), avec horodatage et couleur</li>
                    <li>Permet de consulter les √©v√©nements pass√©s pour analyse ou v√©rification.</li>
                  </ul>
                </p>
                <div class="image-container">
                  <img src="images/Test4/IT/web3.png" alt="web" class="image-mean"/>
                </div>
              </ul>

          <h3 id="3-info">3. Architecture technique</h3>
            <p>
              Voici l'arborescence du dossier
            </p>
            <div class="arbo">
              <ul>
                <li class="folder">convoyeur_web
                  <ul>
                    <li class="folder">__pycache</li>
                    <li class="folder">static
                      <ul>                        
                        <li class="file">style.css</li>
                        <li class="file">tekbot_logo.png</li>
                      </ul>
                    </li>
                    <li class="folder">templates
                      <ul>                        
                        <li class="file">index.html</li>
                      </ul>
                    </li>
                    <li class="folder">venv</li>
                    <li class="file">app.py</li>
                  </ul>
                </li>
              </ul>
            </div>

            <ul>
              <li><strong>Backend (Serveur Flask + SocketIO):</strong></li>
                <ul>
                  <li>
                    Connexion s√©rie avec l‚ÄôArduino pour recevoir les donn√©es (lettres repr√©sentant couleurs et type d‚Äôaction).
                  </li>
                  <li>
                    Traitement des donn√©es et mise √† jour des compteurs.
                  </li>
                  <li>
                    Emission d‚Äô√©v√©nements WebSocket pour mise √† jour instantan√©e c√¥t√© client.
                  </li>
                </ul>

                <div class="code-container">
                  <p>app.py</p>
                  <div class="btn-bar">
                    <button onclick="copierCode('app-py', this)">üìã</button>
                    <button onclick="telechargerCode('app-py', 'app.py', 'text/py', this)">ü°á</button>
                  </div>
                  <pre><code id="app-py">  
    from flask import Flask, render_template, jsonify, request
    from flask_socketio import SocketIO, emit
    import serial
    import threading
    import time
    from datetime import datetime

    app = Flask(__name__)
    app.secret_key = "tekbot2025"

    # Configuration SocketIO
    socketio = SocketIO(app,
                      cors_allowed_origins="*",
                      async_mode="threading",
                      logger=True,
                      engineio_logger=True)

    # Donn√©es initiales
    compteurs = {'Rouge': 0, 'Bleu': 0, 'Vert': 0, 'Jaune': 0, 'Inconnu': 0}
    historique = []
    derniers_dechets = {'entree': None, 'sortie': None}
    totaux = {'entrees': 0, 'sorties': 0}
    arduino = None
    arduino_connected = False

    # Connexion Arduino


    def connect_arduino():
      global arduino, arduino_connected
      try:
          arduino = serial.Serial("COM3", 9600, timeout=1)
          arduino_connected = True
          print("Connexion Arduino r√©ussie")
          socketio.emit('notification', {'message': 'Arduino connect√©'})
      except Exception as e:
          print(f"√âchec connexion Arduino: {e}")
          arduino_connected = False
          socketio.emit('notification', {
                        'message': f'√âchec connexion Arduino: {e}'})

    # Notification via WebSocket


    def envoyer_notification(couleur, action):
      timestamp = datetime.now().strftime("%H:%M:%S")
      message = f"D√©chet {couleur} {action} √† {timestamp}"

      socketio.emit('notification', {
          'message': message,
          'couleur': couleur,
          'action': action,
          'timestamp': timestamp
      })

    # Traduction des caract√®res vers des couleurs


    def identifier_couleur(char):
      color_map = {'R': 'Rouge', 'G': 'Vert', 'B': 'Bleu', 'Y': 'Jaune'}
      return color_map.get(char.upper(), 'Inconnu')

    # Historique


    def enregistrer_historique(couleur, action):
      entry = {
          'couleur': couleur,
          'action': action,
          'timestamp': datetime.now().isoformat()
      }
      historique.append(entry)
      if len(historique) > 100:
          historique.pop(0)
      return entry

    # Lecture Arduino en boucle


    def lecture_arduino():
      while True:
          if arduino_connected and arduino.in_waiting:
              try:
                  data = arduino.readline().decode().strip()
                  if not data:
                      continue

                  print(f"[Arduino] => {data}")

                  if data in ['R', 'G', 'B', 'Y']:
                      couleur = identifier_couleur(data)
                      compteurs[couleur] += 1
                      derniers_dechets['sortie'] = derniers_dechets['entree']
                      totaux['entrees'] += 1
                      totaux['sorties'] = totaux['entrees'] - 1
                      derniers_dechets['entree'] = couleur

                      action = 'entr√©e'

                      # Historique + notification
                      entry = enregistrer_historique(couleur, action)
                      envoyer_notification(couleur, f"est {action}")

                      # Mise √† jour via WebSocket
                      socketio.emit('update_data', {
                          'compteurs': compteurs,
                          'derniers': derniers_dechets,
                          'totaux': totaux,
                          'last_action': {
                              'type': action,
                              'couleur': couleur,
                              'timestamp': entry['timestamp']
                          },
                          'last_update': datetime.now().isoformat()
                      })

              except Exception as e:
                  print(f"Erreur lecture Arduino: {e}")
                  time.sleep(1)

          time.sleep(0.1)

    # Routes Flask


    @app.route('/')
    def index():
      return render_template('index.html')


    @app.route('/status')
    def status():
      return jsonify({
          'arduino_connected': arduino_connected,
          'last_update': datetime.now().isoformat()
      })


    @app.route('/historique')
    def get_historique():
      return jsonify(historique[-15:][::-1])


    @app.route('/reset', methods=['POST'])
    def reset():
      data = request.get_json()
      if data and data.get('code_secret') == '1234':
          for couleur in compteurs:
              compteurs[couleur] = 0
          historique.clear()
          derniers_dechets.update({'entree': None, 'sortie': None})
          totaux.update({'entrees': 0, 'sorties': 0})

          socketio.emit('update_data', {
              'compteurs': compteurs,
              'derniers': derniers_dechets,
              'totaux': totaux,
              'reset': True,
              'last_update': datetime.now().isoformat()
          })
          return '', 204
      return '', 403


    @socketio.on('connect')
    def handle_connect():
      emit('update_data', {
          'compteurs': compteurs,
          'derniers': derniers_dechets,
          'totaux': totaux,
          'last_update': datetime.now().isoformat()
      })


    # Lancement de l‚Äôapplication
    if __name__ == '__main__':
      connect_arduino()

      if arduino_connected:
          thread = threading.Thread(target=lecture_arduino)
          thread.daemon = True
          thread.start()

      socketio.run(app, host='0.0.0.0', port=5000,
                    debug=False, allow_unsafe_werkzeug=True)
                  </code></pre>
                </div>

              <li><strong>Frontend (HTML, CSS, JavaScript avec Socket.IO):</strong></li>
                <ul>
                  <li>Affichage dynamique des donn√©es re√ßues via WebSocket.</li>
                  <li>Gestion des notifications et des mises √† jour en temps r√©el.</li>
                </ul>

                  <div class="code-container">
                    <p>index.html</p>
                    <div class="btn-bar">
                      <button onclick="copierCode('index-html', this)">üìã</button>
                      <button onclick="telechargerCode('index-html', 'index.html', 'text/html', this)">ü°á</button>
                    </div>
                    <pre><code id="index-html">
    &lt;!DOCTYPE html&gt;
    &lt;html lang="fr"&gt;
    &lt;head&gt;
      &lt;meta charset="UTF-8"&gt;
      &lt;title&gt;Convoyeur Intelligent - B2MS CleanTech&lt;/title&gt;
      &lt;link rel="stylesheet" href="{% static 'style.css' %}"&gt;
      &lt;link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"&gt;
      &lt;script src="https://cdn.jsdelivr.net/npm/chart.js"&gt;&lt;/script&gt;
      &lt;script src="https://cdn.socket.io/4.7.2/socket.io.min.js"&gt;&lt;/script&gt;
      &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
      &lt;style&gt;
        .notification-badge {
          position: absolute;
          top: -5px;
          right: -5px;
          font-size: 0.7rem;
        }
        .card-couleur {
          transition: all 0.3s ease;
        }
        .card-couleur:hover {
          transform: translateY(-3px);
          box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .flash {
          animation: flash 1s;
        }
        @keyframes flash {
          0% { opacity: 0.5; }
          50% { opacity: 1; }
          100% { opacity: 1; }
        }
      &lt;/style&gt;

    &lt;/head&gt;
    &lt;body&gt;
      &lt;div class="container text-center my-4 p-4 rounded shadow-sm bg-white"&gt;
        &lt;img src="{{ url_for('static', filename='tekbot_logo.png') }}" height="70" alt="Logo TEKBOT"&gt;
        &lt;h1 class="mt-3"&gt;Convoyeur Intelligent&lt;/h1&gt;
        &lt;h4 class="mb-2"&gt;Par l'√©quipe &lt;strong&gt;B2MS CleanTech&lt;/strong&gt;&lt;/h4&gt;
        
        &lt;!-- Zone de notification --&gt;
        &lt;div class="alert-container mt-3 mb-4"&gt;
          &lt;div id="lastActionAlert" class="alert alert-dismissible fade show" style="display:none;"&gt;
            &lt;button type="button" class="btn-close" onclick="dismissAlert()"&gt;&lt;/button&gt;
            &lt;div class="d-flex justify-content-between align-items-center"&gt;
              &lt;span&gt;
                &lt;span id="actionIcon" class="me-2"&gt;&lt;/span&gt;
                &lt;strong id="actionText"&gt;&lt;/strong&gt;
              &lt;/span&gt;
              &lt;small id="actionTime" class="text-muted"&gt;&lt;/small&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;p class="lead"&gt;
          üåç Suivi en temps r√©el des d√©chets sur le convoyeur&lt;br&gt;
          ‚ôªÔ∏è Syst√®me de tri automatis√© et tra√ßabilit√© compl√®te
        &lt;/p&gt;

        &lt;!-- Statistiques globales --&gt;
        &lt;div class="row justify-content-center mt-4"&gt;
          &lt;div class="col-md-6 mb-3"&gt;
            &lt;div class="card border-primary h-100"&gt;
              &lt;div class="card-body position-relative"&gt;
                &lt;h5 class="text-primary">üì• Derni√®re entr√©e&lt;/h5&gt;
                &lt;div id="derniereEntree" class="display-4 my-3"&gt;-&lt;/div&gt;
                &lt;div class="progress"&gt;
                  &lt;div class="progress-bar bg-primary" style="width: 100%"&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="mt-2"&gt;
                  &lt;span class="badge bg-primary"&gt;Total: &lt;span id="totalEntrees"&gt;0&lt;/span&gt;&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
          
          &lt;div class="col-md-6 mb-3"&gt;
            &lt;div class="card border-success h-100"&gt;
              &lt;div class="card-body position-relative"&gt;
                &lt;h5 class="text-success"&gt;üì§ Derni√®re sortie&lt;/h5&gt;
                &lt;div id="derniereSortie" class="display-4 my-3"&gt;-&lt;/div&gt;
                &lt;div class="progress"&gt;
                  &lt;div class="progress-bar bg-success" style="width: 100%"&gt;&lt;/div&gt;
                &lt;/div&gt;
                &lt;div class="mt-2"&gt;
                  &lt;span class="badge bg-success"&gt;Total: &lt;span id="totalSorties"&gt;0&lt;/span&gt;&lt;/span&gt;
                &lt;/div&gt;
              &lt;/div&gt;
            &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Compteurs par couleur --&gt;
        &lt;div class="row justify-content-center g-3 mt-2"&gt;
          &lt;div class="col-6 col-md-3" id="Rouge"&gt;&lt;/div&gt;
          &lt;div class="col-6 col-md-3" id="Bleu"&gt;&lt;/div&gt;
          &lt;div class="col-6 col-md-3" id="Vert"&gt;&lt;/div&gt;
          &lt;div class="col-6 col-md-3" id="Jaune"&gt;&lt;/div&gt;
        &lt;/div&gt;

        &lt;!-- Graphique --&gt;
        &lt;div class="chart-container mt-4" style="position: relative; height:300px;">
          &lt;canvas id="camembert"&gt;&lt;/canvas&gt;
        &lt;/div>

        &lt;!-- Boutons --&gt;
        &lt;button class="btn btn-danger mt-3 px-4" onclick="resetCompteurs()"&gt;
          üîÑ R√©initialiser les compteurs
        &lt;/button&gt;

        &lt;!-- Historique complet --&gt;
        &lt;h5 class="mt-4 mb-2 text-start"&gt;üìú Historique complet des actions :&lt;/h5&gt;
        &lt;ul class="list-group text-start" id="historique"&gt;&lt;/ul&gt;

        &lt;footer class="mt-4 text-muted small text-center"&gt;
          &copy; 2025 - DEMIS CEGEITECH | Suivi temps r√©el par SocketIO
        &lt;/footer&gt;
      &lt;/div&gt;

      &lt;script&gt;
        // Configuration
        const couleurs = {
          'Rouge': { color: '#dc3545', nom: 'Rouge', icon: 'üî¥' },
          'Bleu': { color: '#0d6efd', nom: 'Bleu', icon: 'üîµ' },
          'Vert': { color: '#198754', nom: 'Vert', icon: 'üü¢' },
          'Jaune': { color: '#ffc107', nom: 'Jaune', icon: 'üü°' },
          'Inconnu': { color: '#6c757d', nom: 'Inconnu', icon: '‚ö´' }
        };
        
        let chart;
        const socket = io();

        // Initialisation
        function init() {
          initChart();
          setupSocketIO();
          loadHistory();
        }

        // Configuration SocketIO
        function setupSocketIO() {
          socket.on('connect', () => {
            console.log('Connect√© au serveur Socket.IO');
          });

          socket.on('update_data', (data) => {
            console.log('Nouvelle donn√©e re√ßue:', data);
            updateCompteurs(data.compteurs);
            updateDerniersDechets(data.derniers);
            updateTotaux(data.totaux);
            updateCamembert(data.compteurs);
            
            if (data.last_action) {
              showActionAlert(
                `D√©chet ${data.last_action.couleur} ${data.last_action.type}`,
                data.last_action.couleur, 
                data.last_action.type
              );
              addToHistory({
                couleur: data.last_action.couleur,
                action: data.last_action.type,
                timestamp: data.last_update
              });
            }
            
            if (data.reset) {
              showActionAlert("Compteurs r√©initialis√©s", "Inconnu", "reset");
              document.getElementById('historique').innerHTML = '';
            }
          });

          socket.on('notification', (data) => {
            console.log('Notification:', data.message);
          });
        }

        // Chargement de l'historique
        function loadHistory() {
          fetch('/historique')
            .then(res => res.json())
            .then(data => {
              const historiqueList = document.getElementById('historique');
              historiqueList.innerHTML = '';
              
              if (data.length === 0) {
                historiqueList.innerHTML = 
                  '&lt;li class="list-group-item text-center text-muted"&gt;Aucun historique disponible&lt;/li&gt;';
                return;
              }

              data.forEach(item => {
                addToHistory(item, false);
              });
            })
            .catch(err => console.error('Erreur historique:', err));
        }

        // Mise √† jour des compteurs
        function updateCompteurs(compteurs) {
          for (const couleur in couleurs) {
            const count = compteurs[couleur] || 0;
            const elem = document.getElementById(couleur);
            
            if (elem) {
              elem.innerHTML = `
                &lt;div class="card shadow-sm card-couleur flash" 
                    style="border-left: 4px solid ${couleurs[couleur].color}"&gt;
                  &lt;div class="card-body"&gt;
                    &lt;h4 style="color:${couleurs[couleur].color}; margin-bottom:8px;"&gt;
                      ${couleurs[couleur].icon} ${couleur}
                    &lt;/h4&gt;
                    &lt;h2&gt;${count}&lt;/h2&gt;
                  &lt;/div&gt;
                &lt;/div&gt;`;
            }
          }
        }

        // Mise √† jour derniers d√©chets
        function updateDerniersDechets(derniers) {
          const entreeElem = document.getElementById("derniereEntree");
          const sortieElem = document.getElementById("derniereSortie");
          
          if (derniers.entree) {
            const couleur = couleurs[derniers.entree];
            entreeElem.innerHTML = `&lt;span style="color:${couleur.color}"&gt;${couleur.icon} ${derniers.entree}&lt;/span&gt;`;
            entreeElem.parentElement.parentElement.classList.add('flash');
          }
          
          if (derniers.sortie) {
            const couleur = couleurs[derniers.sortie];
            sortieElem.innerHTML = `&lt;span style="color:${couleur.color}"&gt;${couleur.icon} ${derniers.sortie}&lt;/span&gt;`;
            sortieElem.parentElement.parentElement.classList.add('flash');
          }
        }

        // Mise √† jour des totaux
        function updateTotaux(totaux) {
          document.getElementById("totalEntrees").textContent = totaux.entrees;
          document.getElementById("totalSorties").textContent = totaux.sorties;
        }

        // Ajout √† l'historique
        function addToHistory(item, prepend = true) {
          const list = document.getElementById('historique');
          
          if (list.children.length === 1 && list.children[0].classList.contains('text-muted')) {
            list.innerHTML = '';
          }

          const li = document.createElement('li');
          li.className = 'list-group-item d-flex justify-content-between align-items-center';
          
          const date = new Date(item.timestamp).toLocaleTimeString();
          const couleur = couleurs[item.couleur] || couleurs['Inconnu'];
          const actionIcon = item.action === 'entr√©e' ? 'üì•' : 'üì§';
          
          li.innerHTML = `
            &lt;span&gt;
              &lt;span class="badge" style="background-color:${couleur.color}"&gt;
                ${couleur.icon} ${item.couleur}
              &lt;/span&gt;
              &lt;small class="ms-2"&gt;${actionIcon} ${date}&lt;/small&gt;
            &lt;/span&gt;
            &lt;span class="badge bg-${item.action === 'entr√©e' ? 'primary' : 'success'} rounded-pill"&gt;${item.action}&lt;/span&gt;
          `;
          
          if (prepend) {
            list.insertBefore(li, list.firstChild);
            if (list.children.length > 15) {
              list.removeChild(list.lastChild);
            }
          } else {
            list.appendChild(li);
          }
        }

        // Affichage alerte action
        function showActionAlert(text, couleur, action) {
          const alert = document.getElementById('lastActionAlert');
          const actionText = document.getElementById('actionText');
          const actionTime = document.getElementById('actionTime');
          const actionIcon = document.getElementById('actionIcon');
          
          alert.style.display = 'block';
          alert.className = `alert alert-dismissible fade show flash alert-${
            action.includes('entr√©e') ? 'primary' : action.includes('sortie') ? 'success' : 'info'
          }`;
          actionText.textContent = text;
          actionText.style.color = getColorCode(couleur);
          actionTime.textContent = new Date().toLocaleTimeString();
          actionIcon.textContent = couleurs[couleur]?.icon || '‚ö™';
          
          setTimeout(dismissAlert, 5000);
        }

        function dismissAlert() {
          document.getElementById('lastActionAlert').style.display = 'none';
        }

        // Initialisation du graphique
        function initChart() {
          const ctx = document.getElementById('camembert').getContext('2d');
          chart = new Chart(ctx, {
            type: 'doughnut',
            data: {
              labels: Object.keys(couleurs),
              datasets: [{
                data: Object.keys(couleurs).map(() => 0),
                backgroundColor: Object.values(couleurs).map(c => c.color),
                borderWidth: 2,
                borderColor: '#fff'
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                legend: {
                  position: 'bottom',
                  labels: {
                    font: {
                      size: 14
                    },
                    usePointStyle: true,
                    pointStyle: 'circle'
                  }
                }
              },
              cutout: '65%'
            }
          });
        }

        function updateCamembert(data) {
          chart.data.datasets[0].data = Object.keys(couleurs).map(c => data[c] || 0);
          chart.update();
        }

        // R√©initialisation
        function resetCompteurs() {
          const code = prompt("Entrez le code secret (1234) pour r√©initialiser :");
          if (code) {
            fetch('/reset', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ code_secret: code })
            }).then(res => {
              if (res.status !== 204) {
                alert("Code secret incorrect !");
              }
            });
          }
        }

        // Helper function
        function getColorCode(couleur) {
          return couleurs[couleur]?.color || '#6c757d';
        }

        document.addEventListener('DOMContentLoaded', init);
      &lt;/script&gt;
    </body>
    </html>
                  </code></pre>
                </div>

                <div class="code-container">
                  <p>style.css</p>
                  <div class="btn-bar">
                    <button onclick="copierCode('style-css', this)">üìã</button>
                    <button onclick="telechargerCode('style-css', 'style.css', 'text/css', this)">ü°á</button>
                  </div>
                  <pre><code id="style-css">
    ::root {
      --rouge: #dc3545;
      --bleu: #0d6efd;
      --vert: #198754;
      --jaune: #ffc107;
      --inconnu: #6c757d;
      --blanc: #ffffff;
      --gris-clair: #f8f9fa;
      --gris-fonce: #212529;
      --noir: #000000;
      
      --espace-sm: 0.5rem;
      --espace-md: 1rem;
      --espace-lg: 1.5rem;
      --espace-xl: 2rem;
      
      --radius-sm: 0.25rem;
      --radius-md: 0.5rem;
      --radius-lg: 1rem;
      
      --transition: all 0.3s ease;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--gris-clair);
      color: var(--gris-fonce);
      line-height: 1.6;
    }

    .container {
      max-width: 1200px;
      margin: var(--espace-xl) auto;
      padding: var(--espace-lg);
      background-color: var(--blanc);
      border-radius: var(--radius-lg);
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
    }

    h1 {
      color: var(--bleu);
      margin-bottom: var(--espace-sm);
      font-weight: 700;
    }

    h4 {
      color: var(--gris-fonce);
      margin-bottom: var(--espace-lg);
    }

    .lead {
      font-size: 1.1rem;
      margin-bottom: var(--espace-lg);
      color: var(--gris-fonce);
    }

    .alert-container {
      min-height: 60px;
      margin: var(--espace-lg) 0;
    }

    .alert {
      padding: var(--espace-md);
      border-radius: var(--radius-md);
      border-left: 5px solid;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .alert-entree {
      border-left-color: var(--bleu);
      background-color: rgba(13, 110, 253, 0.1);
    }

    .alert-sortie {
      border-left-color: var(--vert);
      background-color: rgba(25, 135, 84, 0.1);
    }

    .btn-close {
      background: none;
      border: none;
      font-size: 1.2rem;
      cursor: pointer;
      opacity: 0.7;
      transition: var(--transition);
    }

    .btn-close:hover {
      opacity: 1;
    }

    .card {
      border: none;
      border-radius: var(--radius-md);
      box-shadow: 0 0.25rem 0.5rem rgba(0, 0, 0, 0.05);
      transition: var(--transition);
      height: 100%;
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.1);
    }

    .card-body {
      padding: var(--espace-lg);
    }

    .display-4 {
      font-size: 2.5rem;
      font-weight: 600;
      min-height: 60px;
      margin: var(--espace-md) 0;
    }

    .card-couleur {
      border-left: 5px solid;
      height: 110px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
    }

    .card-couleur h4 {
      margin-bottom: var(--espace-sm);
      font-size: 1.1rem;
    }

    .card-couleur h2 {
      font-size: 1.8rem;
      font-weight: 700;
    }

    .chart-container {
      position: relative;
      height: 300px;
      margin: var(--espace-lg) 0;
    }

    .progress {
      height: 8px;
      border-radius: var(--radius-sm);
      background-color: rgba(0, 0, 0, 0.05);
    }

    .progress-bar {
      border-radius: var(--radius-sm);
      transition: width 0.6s ease;
    }

    .list-group {
      max-height: 300px;
      overflow-y: auto;
    }

    .list-group-item {
      border-radius: var(--radius-md) !important;
      margin-bottom: var(--espace-sm);
      border: 1px solid rgba(0, 0, 0, 0.08);
      transition: var(--transition);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .list-group-item:hover {
      background-color: var(--gris-clair);
    }

    .badge {
      font-weight: 500;
      padding: 0.35rem 0.65rem;
      font-size: 0.8rem;
    }

    .btn {
      font-weight: 500;
      border-radius: 50px;
      padding: 0.5rem 1.5rem;
      transition: var(--transition);
      letter-spacing: 0.5px;
    }

    .btn-danger {
      background-color: var(--rouge);
      border-color: var(--rouge);
      color: white;
    }

    .btn-danger:hover {
      background-color: #bb2d3b;
      border-color: #bb2d3b;
      transform: translateY(-2px);
      color: white;
    }

    @keyframes flash {
      0% { opacity: 0.3; }
      50% { opacity: 1; }
      100% { opacity: 1; }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .flash-animation {
      animation: flash 1.5s;
    }

    .changed {
      animation: fadeHighlight 2s;
    }

    @keyframes fadeHighlight {
      0% { background-color: rgba(13, 110, 253, 0.2); }
      100% { background-color: transparent; }
    }

    @media (max-width: 768px) {
      .container {
        padding: var(--espace-md);
        margin: var(--espace-md);
      }
      
      h1 {
        font-size: 1.8rem;
      }
      
      .card-couleur {
        height: 90px;
      }
      
      .card-couleur h4 {
        font-size: 1rem;
      }
      
      .card-couleur h2 {
        font-size: 1.5rem;
      }
      
      .display-4 {
        font-size: 2rem;
      }
      
      .chart-container {
        height: 250px;
      }
    }

    .text-rouge { color: var(--rouge); }
    .text-bleu { color: var(--bleu); }
    .text-vert { color: var(--vert); }
    .text-jaune { color: var(--jaune); }
    .text-inconnu { color: var(--inconnu); }

    .bg-rouge { background-color: var(--rouge); }
    .bg-bleu { background-color: var(--bleu); }
    .bg-vert { background-color: var(--vert); }
    .bg-jaune { background-color: var(--jaune); }
    .bg-inconnu { background-color: var(--inconnu); }

    footer {
      margin-top: var(--espace-xl);
      padding-top: var(--espace-md);
      border-top: 1px solid rgba(0, 0, 0, 0.1);
      color: var(--inconnu);
      font-size: 0.9rem;
    }
                  </code></pre>
                </div>

            </ul>

          <h3 id="4-info">4. Description des composants de l‚Äôinterface</h3>
          <ul>
            <lI>D√©scription g√©n√©rale</lI>
            <table border="2" cellspacing="1" cellpadding="6" style="margin-left: 2rem;">
              <thead>
                <tr>
                  <th>√âl√©ment</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Compteurs de d√©chets</strong></td>
                  <td>Affiche le nombre total d‚Äôobjets tri√©s par couleur (Rouge, Vert, Bleu, Jaune)</td>
                </tr>
                <tr>
                  <td><strong>Derni√®re entr√©e</strong></td>
                  <td>Affiche la couleur et l‚Äôheure de la derni√®re entr√©e d√©tect√©e</td>
                </tr>
                <tr>
                  <td><strong>Derni√®re sortie</strong></td>
                  <td>Affiche la couleur et l‚Äôheure de la derni√®re sortie d√©tect√©e (actuellement √† compl√©ter)</td>
                </tr>
                <tr>
                  <td><strong>Notifications</strong></td>
                  <td>Pop-up ou messages dans la page pour informer chaque nouvelle d√©tection</td>
                </tr>
                <tr>
                  <td><strong>Bouton R√©initialiser</strong></td>
                  <td>Permet de remettre les compteurs et l‚Äôhistorique √† z√©ro</td>
                </tr>
              </tbody>
            </table>

            <lI>Connexions mat√©rielles</lI>
            <table border="2" cellspacing="1" cellpadding="6" style="margin-left: 18rem;">
              <thead>
                <tr>
                  <th>√âl√©ment</th>
                  <th>Connexion</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Arduino Nano</strong></td>
                  <td>USB vers PC(via un port)</td>
                </tr>
                <tr>
                  <td><strong>Capteur ColorPAL</strong></td>
                  <td>Pin 12 de l'arduino nano</td>
                </tr>
                <tr>
                  <td><strong>Moteur DC</strong></td>
                  <td>Motor Driver L298N</td>
                </tr>
                <tr>
                  <td><strong>Capteur Ultrason</strong></td>
                  <td>
                    <ul>
                      <li>TRIG: Pin 18 de l'arduino nano</li>
                      <li>Echo: Pin 19 de l'arduino nano</li>
                    </ul>
                  </td>
                </tr>
              </tbody>
            </table>

            <lI>Technologies Utilis√©es</lI>
            <table border="2" cellspacing="1" cellpadding="6" style="margin-left: 15rem;">
              <thead>
                <tr>
                  <th>Domaine</th>
                  <th>Langages / Outils</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td><strong>Web Backend</strong></td>
                  <td>Flask, Python, SocketIO</td>
                </tr>
                <tr>
                  <td><strong>Web Frontend</strong></td>
                  <td>HTML, CSS, JS, Bootstrap 5, Chart.js</td>
                </tr>
                <tr>
                  <td><strong>Communication PC-Arduino</strong></td>
                  <td>USB, PySerial(port, 9600 bauds)</td>
                </tr>
              </tbody>
            </table>

          </ul>

          <h3 id="5-info">5. Communication s√©rie et Traitement des Donn√©es</h3>
            <p>
              La communication s√©rie entre l'Arduino et l'ordinateur (serveur Python) est essentielle. 
              Elle se fait par port USB en utilisant un port COM (ex: COM3).
            </p>
            
              <h4>Sch√©ma de communication:</h4>
                <ul>
                  <li>
                    <strong>Arduino ‚Üí PC</strong>: Envoie une lettre (R, G, B, Y) chaque fois qu‚Äôun objet est d√©tect√©.
                  </li>
                  <li>
                    <strong>PC (Python) ‚Üí Web</strong>: Re√ßoit la lettre, l‚Äôinterpr√®te, met √† jour les compteurs, et l‚Äôenvoie en temps r√©el √† l‚Äôinterface web via WebSocket.
                  </li>
                </ul>

              <h4>D√©tails techniques:</h4>
                <ul>
                  <li>
                    <strong>Vitesse de transmission</strong>: 9600 bauds (via Serial.begin(9600)).
                  <li>
                    <strong>Traitement des donn√©es</strong> via le module pyserial en Python.
                  </li>
                  <li>
                    Le port s√©rie est ouvert au d√©marrage du serveur <strong>Flask</strong>.
                  </li>
                </ul>
              <h4>Traitements des donn√©es</h4>
                <p>
                  Les donn√©es re√ßues de l‚ÄôArduino sont trait√©es en temps r√©el c√¥t√© serveur comme suit:
                  <ul>
                    <li>Lecture d'un caract√®re ('R', 'G', etc.)</li>
                    <li>Mise √† jour des compteurs</li>
                    <li>Ajout √† l'historique (type, couleur, heure)</li>
                    <li>Emission d'√©v√©nement vers l'interface</li>
                  </ul>
                </p>

          <h3 id="6-info">6. Instructions d'utilisation</h3>
            <p>
              Voici les √©tapes pour lancer et manipuler l'interface web:
              <ul>
                <li><strong>Lancement du serveur</strong></li>
                <p>
                  Lancer le serveur Flask via la commande <strong>python app.py</strong>. 
                  Le serveur se connecte automatiquement √† l‚ÄôArduino via le port s√©rie configur√©.
                </p>
                <li><strong>Acc√®s √† l‚Äôinterface</strong></li>
                <p>
                  Ouvrir un navigateur et aller √† l‚Äôadresse <strong>http://localhost:5000</strong> ou l‚Äôadresse IP indiqu√©e dans la console.
                </p>
                <li><strong>Visualisation des donn√©es</strong></li>
                <p>
                  Les compteurs s‚Äôincr√©mentent automatiquement √† chaque d√©tection de d√©chet.
                </p>
                <li><strong>R√©initialisation</strong></li>
                <p>
                  Cliquer sur le bouton <strong>R√©initialiser</strong> pour remettre les compteurs √† z√©ro.
                </p>
              </ul>
            </p>

            <div class="image-container">
              <img src="images/Test4/IT/web4.png" alt="web" class="image-mean"/>
              <img src="images/Test4/IT/web5.jpg" alt="web" class="image-mean"/>
            </div>

            <p class="txt_center">
              <a href="https://github.com/TekBot-Robotics-Challenge/2025-Team-B2MS_CleanTech-Docs/raw/refs/heads/main/Test4/IT/convoyeur_web.zip" download class="download-link">t√©l√©charger les fichiers de l'interface web</a>
            </p>


        </div>

        <div id="validation" class="subtab-content">
          <h2 id="test" class="projet-titre">Tests et validation</h2>
          <h3 id="1-test">1. Assemblage du convoyeur</h3>
            <p>
              Voici le syst√®me de convoyeur que nous avons con√ßu:
            </p>
            <div class="image-container">
              <img src="images/Test4/Convoyeur/realisation1.jpg" alt="realisation" class="image-small"/>
              <img src="images/Test4/Convoyeur/realisation2.jpg" alt="realisation" class="image-small"/>
              <img src="images/Test4/Convoyeur/realisation3.jpg" alt="realisation" class="image-small"/>
              <img src="images/Test4/Convoyeur/realisation4.jpg" alt="realisation" class="image-small"/>
              <img src="images/Test4/Convoyeur/realisation5.jpg" alt="realisation" class="image-small"/>
              <img src="images/Test4/Convoyeur/realisation6.jpg" alt="realisation" class="image-small"/>
              <img src="images/Test4/Convoyeur/realisation7.jpg" alt="realisation" class="image-small"/>
            </div>

            <video controls width=30%>
              <source src="videos/Test4/Convoyeur/convoyeur1.mp4" type="video/mp4">
              Votre navigateur ne supporte pas la vid√©o HTML5.
            </video>

          <h3 id="2-test">2. Protocole de test</h3>
            <p>
              Les tests individuels de chaque domaine ayant d√©j√† √©t√© effectu√©s, cette section est consacr√©e √† l‚Äô√©valuation du syst√®me global. 
              L‚Äôobjectif est de v√©rifier l‚Äôint√©gration de tous les modules pour garantir le bon fonctionnement de l‚Äôensemble. 
              Il s‚Äôagit donc de s‚Äôassurer que chaque domaine interagit correctement avec les autres dans un environnement complet et coh√©rent. 
            
              <ul>
                <li>
                  Nous avons commenc√© par tester l'int√©gration de l'√©lectronique et de la d√©tection intelligente avec la structure du convoyeur √† l'aide d'un petit code.
                </li>
                <video controls width=auto>
                  <source src="videos/Test4/Convoyeur/test2.mp4" type="video/mp4">
                  Votre navigateur ne supporte pas la vid√©o HTML5.
                </video>

                <li>
                  Puis, nous avons test√© le syst√®me avec l'interface web.
                </li>
                <video controls width=auto>
                  <source src="videos/Test4/Convoyeur/test3.mp4" type="video/mp4">
                  Votre navigateur ne supporte pas la vid√©o HTML5.
                </video>
              </ul>
              
            </p>

          <h3 id="3-test">3. R√©sultats et d√©monstration</h3>
            <p>
              Apr√®s plusieurs tests et modifications, nous sommes parvenus √† r√©aliser le syst√®me de convoyeur r√©pondant au cahier de charge.
              En effet, le convoyeur respecte les contraintes de dimension(longueur et hauteur).
              Le tapis du convoyeur reste immobile et ne se meut que lorsque le syst√®me d√©tecte des d√©chets.
              Ensuite, les d√©chets passent par la zone de d√©tection avant d‚Äôarriver √† la fin du convoyeur ou ils  seront colect√©s manuelement.
              Nous avons aussi mis en place une interface web pour permettre un suivi en temps r√©el du tri des d√©chets.
            </p>
            <p>
              Voici des images et videos montrant notre travail:
            </p>
            <div class="image-container">
              <img src="images/Test4/Convoyeur/realisation8.jpg" alt="realisation" class="image-small"/>
            </div>

            <video controls width=auto>
              <source src="videos/Test4/Convoyeur/demo1.mp4" type="video/mp4">
              Votre navigateur ne supporte pas la vid√©o HTML5.
            </video>
        </div>

        <div id="conclusion" class="subtab-content">
          <h2 id="concl" class="projet-titre">Conclusion et Annexes</h2>
          <h3 id="1-concl">1. Conclusion et perspectives</h3>
            <h4>Conclusion</h4>
            <p>
              Ce projet de convoyeur intelligent s‚Äôinscrit dans une dynamique de modernisation des processus industriels en int√©grant des technologies issues de la m√©canique, de l‚Äô√©lectronique embarqu√©e et de l‚Äôinformatique. 
              √Ä travers ce syst√®me, nous avons d√©montr√© la possibilit√© de concevoir un dispositif autonome capable de d√©tecter, identifier, trier et comptabiliser des d√©chets selon leur couleur, 
              tout en assurant une visualisation en temps r√©el via une interface web conviviale.
            </p>
            <p>
              L‚Äôint√©gration r√©ussie des diff√©rents modules (capteurs, motorisation, contr√¥le Arduino, communication s√©rie, interface web) confirme la faisabilit√© technique du syst√®me. 
              Les tests ont permis de valider le bon fonctionnement global, avec une r√©activit√© satisfaisante, une pr√©cision correcte dans l‚Äôidentification des couleurs et une visualisation instantan√©e des donn√©es.
            </p>
            <h4>Perspectives</h4>
              <p>
                Afin d‚Äôam√©liorer et de faire √©voluer ce syst√®me, plusieurs pistes peuvent √™tre envisag√©es :
                <ul>
                  <li>
                    Tri physique automatis√© : 
                    Ajouter des actionneurs (comme des bras ou des trappes motoris√©es) 
                    pour permettre un tri automatique dans les bacs, sans intervention humaine.
                  </li>
                  <li>
                    Reconnaissance avanc√©e : Int√©grer des capteurs plus pr√©cis 
                    ou une cam√©ra avec vision par ordinateur pour reconna√Ætre non seulement la couleur, mais aussi la forme ou la mati√®re du d√©chet.
                  </li>
                  <li>
                    Interface distante : Permettre un acc√®s √† distance √† l‚Äôinterface via le cloud, 
                    pour un suivi en temps r√©el depuis n‚Äôimporte quel appareil connect√©.
                  </li>
                </ul>
              </p>
              <p>
                Ce projet, en plus de sa port√©e p√©dagogique, constitue une base solide pour des applications concr√®tes dans le domaine du tri des d√©chets, 
                contribuant ainsi √† une gestion plus durable des ressources.
              </p>
          <h3 id="2-concl">2. Annexes</h3>
            <p>
              Fiches techniques des composants √©lectroniques:
            </p>
              <ul>
                <li>
                  Microcontr√¥leur: 
                  <a href="https://docs.arduino.cc/resources/datasheets/A000005-datasheet.pdf" target="_blank">Arduino nano</a>
                </li>
                <li>
                  Capteur de couleur: 
                  <a href="https://www.mouser.com/datasheet/2/321/28380-ColorPAL-Documentation-370265.pdf?srsltid=AfmBOoqGq8vwQaI62oqMLZm4TdE2iRID73yldqJOA6wBk9wV9HYMWR5j" target="_blank">ColorPal</a>
                </li>
                <li>
                  Capteur de pr√©sence: 
                  <a href="https://www.robot-maker.com/shop/img/cms/datasheet-capteur-ultrasons-hc-sr04.pdf" download target="_blank">Ultrason</a>
                </li>
                <li>
                  Affichage visuelle: 
                  <a href="https://www.cybertice.com/product/4382/hw-43-5050-rgb-full-color-rgb-8-led-module-for-arduino" download target="_blank">LED RGB</a>
                </li>
              </ul>
        </div>

      </section>
    </main>
  </div>

  <footer>
    Copyright ¬© 2025 Team B2MS CleanTech. All rights reserved.
  </footer>

  <script src="scripts/script_commun.js"></script>
  <script src="scripts/script_code.js"></script>
</body>
</html>
